# Changelog: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å ELMA v1.1

**–î–∞—Ç–∞:** 18.11.2025  
**–í–µ—Ä—Å–∏—è:** 1.1  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

---

## üéØ –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ API ELMA –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è –ø—Ä–∏–∫–∞–∑–æ–≤ –Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫—É —Ü–µ–Ω. –û—Å–Ω–æ–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞ `StartWithData` —Å ProcessToken –≤–º–µ—Å—Ç–æ Insert/Update —Å—É—â–Ω–æ—Å—Ç–µ–π.

---

## üìã –î–µ—Ç–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞

**–ë—ã–ª–æ:**
```json
{
  "OrganizationINN": "9103069850",
  "Initiator": "user@company.ru",
  "DecreeType": {"Uid": "..."},
  "DecreeSubject": "–¢–µ–º–∞ –ø—Ä–∏–∫–∞–∑–∞",
  "Preamble": "–ü—Ä–µ–∞–º–±—É–ª–∞",
  "DecreeContents": [
    {"Number": "1", "Content": "..."},
    {"Number": "2", "Content": "..."}
  ],
  "StartDate": "2025-12-01T00:00:00",
  "DecreeVersion": "base64-string"
}
```

**–°—Ç–∞–ª–æ:**
```json
{
  "ProcessToken": "262d1c28-1711-4e9d-b65c-65d8ed8c0d68",
  "Context": {
    "Organization": {"Uid": "c20aa541-d17e-499b-a9e8-755b2803a9b3"},
    "Initiator": {"Uid": "70f51fc1-1c5c-4ef2-870a-c1bec8788322"},
    "DecreeType": {"Uid": "571c78cc-baa0-4529-a00f-8e6c65790ae7"},
    "DecreeHeadline": "–¢–µ–º–∞ –ø—Ä–∏–∫–∞–∑–∞",
    "Preamble": "–ü—Ä–µ–∞–º–±—É–ª–∞",
    "DecreeContent": "1. ...\n2. ...\n3. ...",
    "StartDate": "2025-12-01T00:00:00Z",
    "DecreeResponsible": {"Uid": "..."},
    "NotificationUsr": [{"Uid": "..."}, {"Uid": "..."}],
    "FileDecree": "base64-string"
  }
}
```

### 2. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–æ–ª—è—Ö

| –°—Ç–∞—Ä–æ–µ –ø–æ–ª–µ | –ù–æ–≤–æ–µ –ø–æ–ª–µ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-------------|------------|-------------|
| ‚Äî | **ProcessToken** | üÜï –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ ELMA (–≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å) |
| ‚Äî | **Context** | üÜï –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–∫–∞–∑–∞ |
| OrganizationINN | **Organization.Uid** | ‚úèÔ∏è –¢–µ–ø–µ—Ä—å Uid –≤–º–µ—Å—Ç–æ –ò–ù–ù, —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π |
| Initiator (Email) | **Initiator.Uid** | ‚úèÔ∏è –¢–µ–ø–µ—Ä—å Uid –≤–º–µ—Å—Ç–æ Email, —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π |
| DecreeSubject | **DecreeHeadline** | ‚úèÔ∏è –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ |
| DecreeContents[] | **DecreeContent** | ‚úèÔ∏è –°—Ç—Ä–æ–∫–∞ –≤–º–µ—Å—Ç–æ –º–∞—Å—Å–∏–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤ |
| DecreeVersion | **FileDecree** | ‚úèÔ∏è –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ |
| ‚Äî | **DecreeResponsible.Uid** | üÜï –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ |
| ‚Äî | **NotificationUsr[]** | üÜï –ú–∞—Å—Å–∏–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è |

### 3. –ù–æ–≤—ã–π –º–µ—Ç–æ–¥ –æ—Ç–ø—Ä–∞–≤–∫–∏

**–ë—ã–ª–æ:** `POST /API/REST/Entity/Insert/{TypeUid}` –∏–ª–∏ `Update/{TypeUid}/{EntityUid}`  
**–°—Ç–∞–ª–æ:** `POST /API/REST/Process/StartWithData`

### 4. –ù–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö 1–°

#### –†–µ–≥–∏—Å—Ç—Ä—ã —Å–≤–µ–¥–µ–Ω–∏–π:
- ‚úÖ **MRS_–ü—Ä–æ—Ü–µ—Å—Å—ãELMA** (–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –∏–∑ MRS_–î–æ–∫—É–º–µ–Ω—Ç—ãELMA)
- üÜï **MRS_–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è–û–±—ä–µ–∫—Ç–æ–≤ELMA** ‚Äî —Ç–∞–±–ª–∏—Ü–∞ –º–∞–ø–ø–∏–Ω–≥–∞ –æ–±—ä–µ–∫—Ç–æ–≤ 1–° ‚Üî Uid ELMA

#### –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã:
- üÜï **MRS_ProcessTokenELMA** ‚Äî GUID –ø—Ä–æ—Ü–µ—Å—Å–∞ (`262d1c28-1711-4e9d-b65c-65d8ed8c0d68`)
- ‚úèÔ∏è **MRS_DecreeTypeUidELMA** ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ (`571c78cc-baa0-4529-a00f-8e6c65790ae7`)

#### –§—É–Ω–∫—Ü–∏–∏ –≤ MRS_–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—èELMA–°–µ—Ä–≤–µ—Ä:
- üÜï `–ü–æ–ª—É—á–∏—Ç—åUid–û–±—ä–µ–∫—Ç–∞ELMA(–û–±—ä–µ–∫—Ç1–°, –¢–∏–ø–û–±—ä–µ–∫—Ç–∞)` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ Uid –∏–∑ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π
- üÜï `–ü–æ–ª—É—á–∏—Ç—å–ú–∞—Å—Å–∏–≤Uid–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–πELMA(–ú–∞—Å—Å–∏–≤–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π1–°)` ‚Äî —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ Uid
- üÜï `–ü—Ä–æ–≤–µ—Ä–∏—Ç—å–ù–∞–ª–∏—á–∏–µ–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è(–û–±—ä–µ–∫—Ç1–°, –¢–∏–ø–û–±—ä–µ–∫—Ç–∞)` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- üÜï `–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å–íBase64(–î–≤–æ–∏—á–Ω—ã–µ–î–∞–Ω–Ω—ã–µ)` ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ñ–∞–π–ª–∞ DOCX
- ‚úèÔ∏è `–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—åJSON–î–ª—èELMA(–î–æ–∫—É–º–µ–Ω—Ç–°—Å—ã–ª–∫–∞)` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –ø–æ–¥ –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- ‚úèÔ∏è `–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—åDecreeContent(–î–æ–∫—É–º–µ–Ω—Ç–°—Å—ã–ª–∫–∞)` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É (–Ω–µ –º–∞—Å—Å–∏–≤)

---

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–ª—è –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏

### 1. –°–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö:
- [ ] –†–µ–≥–∏—Å—Ç—Ä —Å–≤–µ–¥–µ–Ω–∏–π **MRS_–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è–û–±—ä–µ–∫—Ç–æ–≤ELMA**
- [ ] –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ **MRS_ProcessTokenELMA**
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É **MRS_DecreeTypeUidELMA**

### 2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π:
- [ ] –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ ‚Üí Organization.Uid
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ ‚Üí Initiator.Uid, DecreeResponsible.Uid
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–ª—è –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è ‚Üí NotificationUsr

### 3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- [ ] –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å —Ç–∞–±–ª–∏—Ü–µ–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è JSON
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –æ—Ç–ø—Ä–∞–≤–∫–∏ (–∏–∑–º–µ–Ω–∏—Ç—å URL –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞–ø—Ä–æ—Å–∞)

### 4. –û–±–Ω–æ–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é:
- [ ] –ü—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞–ª–∏—á–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–ª–µ–π DecreeResponsible –∏ NotificationUsr

### 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –ø—Ä–∏–∫–∞–∑–∞ –≤ ELMA —Å –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –º–∞–ø–ø–∏–Ω–≥–∞ Uid
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å —Ñ–∞–π–ª–æ–º DOCX –≤ base64

---

## üìö –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–ª–µ–¥—É—é—â–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –±—ã–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã:
- ‚úÖ `prd_1_—Å_erp_‚Üî_elma_–ø—Ä–æ—Ü–µ—Å—Å_–ø—Ä–∏–∫–∞–∑–∞_–Ω–∞_—É—Å—Ç–∞–Ω–æ–≤–∫—É_—Ü–µ–Ω.md` (v1.1)
- ‚úÖ `Implementation_Plan_ELMA_Integration.md` (v1.1)
- ‚úÖ `TODO_ELMA_Integration.md` (–¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏)

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **–û–±—Ä–∞—Ç–Ω–∞—è –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –°—Ç–∞—Ä–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞ –±–æ–ª—å—à–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
2. **–¢–∞–±–ª–∏—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π –∫—Ä–∏—Ç–∏—á–Ω–∞:** –ë–µ–∑ –Ω–µ—ë –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞
3. **ProcessToken –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞:** –ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ —Å ELMA
4. **–§–æ—Ä–º–∞—Ç –¥–∞—Ç—ã:** StartDate –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601 —Å UTC (Z)
5. **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ ELMA –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä base64 —Ñ–∞–π–ª–æ–≤

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [PRD: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è 1–°:ERP ‚Üî ELMA](prd_1_—Å_erp_‚Üî_elma_–ø—Ä–æ—Ü–µ—Å—Å_–ø—Ä–∏–∫–∞–∑–∞_–Ω–∞_—É—Å—Ç–∞–Ω–æ–≤–∫—É_—Ü–µ–Ω.md)
- [Implementation Plan](Implementation_Plan_ELMA_Integration.md)
- [TODO List](TODO_ELMA_Integration.md)

---

**–í–æ–ø—Ä–æ—Å—ã –∏ —É—Ç–æ—á–Ω–µ–Ω–∏—è:** –°–º. —Ä–∞–∑–¥–µ–ª "–û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã" –≤ PRD –¥–æ–∫—É–º–µ–Ω—Ç–µ

