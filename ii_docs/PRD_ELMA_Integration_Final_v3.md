# PRD: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è 1–°:ERP ‚Üî –ï–õ–ú–ê (Callback-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
## –ü—Ä–∏–∫–∞–∑ –Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫—É —Ü–µ–Ω

**–í–µ—Ä—Å–∏—è:** 3.0 (–ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ callback-–º–æ–¥–µ–ª—å)  
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 24.11.2025  
**–°—Ç–∞—Ç—É—Å:** üìã Ready for Refactoring

---

## üîÑ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (v2.2 ‚Üí v3.0)

### –ë—ã–ª–æ (v2.2 - Polling):
1. 1–° –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –≤ –ï–õ–ú–ê ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –£–ò–î–ï–õ–ú–ê
2. **–†–ó –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å—ã** —á–µ—Ä–µ–∑ GET /API/REST/Entity/Load
3. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ ‚Äî –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä

### –°—Ç–∞–ª–æ (v3.0 - Callback):
1. 1–° –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –≤ –ï–õ–ú–ê ‚Üí –ø–æ–ª—É—á–∞–µ—Ç `{"result": "True"}`
2. **–ï–õ–ú–ê —Å–∞–º–∞ –≤—ã–∑—ã–≤–∞–µ—Ç HTTP —Å–µ—Ä–≤–∏—Å 1–°** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞
3. 1–° –ø—Ä–∏–Ω–∏–º–∞–µ—Ç callback, –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä –∏ –æ—Ç–≤–µ—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å–æ–º

**üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:** –£–ø—Ä–æ—â–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, —Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏, —Ä–µ–∞–ª-—Ç–∞–π–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤

---

## üìä –°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

| –≠—Ç–∞–ø | –ü—Ä–æ–≥—Ä–µ—Å—Å | –°—Ç–∞—Ç—É—Å |
|------|----------|--------|
| 1. –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ | 1/4 | üü° –¢—Ä–µ–±—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ (—Ä–µ–≥–∏—Å—Ç—Ä, HTTP —Å–µ—Ä–≤–∏—Å) |
| 2. –ó–∞–ø–∏—Å–∏ –≤ –†–°.–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã | 0/7 | ‚¨ú –ù–µ –Ω–∞—á–∞—Ç–æ |
| 3. –û–±—â–∏–µ –º–æ–¥—É–ª–∏ | 2/3 | üü° –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (—É–¥–∞–ª–∏—Ç—å polling) |
| 4. HTTP —Å–µ—Ä–≤–∏—Å –¥–ª—è callback | 0/1 | ‚¨ú –ù–µ –Ω–∞—á–∞—Ç–æ |
| 5. –†–µ–≥–ª–∞–º–µ–Ω—Ç–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è | 0/1 | ‚¨ú –ù–µ –Ω–∞—á–∞—Ç–æ (—Ç–æ–ª—å–∫–æ –æ—Ç–ø—Ä–∞–≤–∫–∞ + –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ) |
| 6. –î–æ—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º | 2/2 | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ |
| 7. –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Å–æ–±—ã—Ç–∏—è | 0/2 | ‚¨ú –ù–µ –Ω–∞—á–∞—Ç–æ |
| 8. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 0/7 | ‚¨ú –ù–µ –Ω–∞—á–∞—Ç–æ |
| **–ò–¢–û–ì–û** | **5/27** | **18%** |

---

# –ß–ê–°–¢–¨ 1: PRODUCT REQUIREMENTS (PRD)

## 1. –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –∏ –±–∏–∑–Ω–µ—Å-—Ü–µ–Ω–Ω–æ—Å—Ç—å

### 1.1 –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤ –ï–õ–ú–ê –ø—Ä–æ—Ü–µ—Å—Å **¬´–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø—Ä–∏–∫–∞–∑–∞ –ø–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏¬ª** –ø—Ä–∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ 1–° **¬´–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–µ–Ω –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã¬ª**
2. –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –ø—Ä–∏–∫–∞–∑–∞ –∏ —Ñ–∞–π–ª Word (–ø–µ—á–∞—Ç–Ω–∞—è —Ñ–æ—Ä–º–∞)
3. **–ü—Ä–∏–Ω–∏–º–∞—Ç—å callback –æ—Ç –ï–õ–ú–ê** —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ —Å—Ç–∞—Ç—É—Å–∞ (–≤–º–µ—Å—Ç–æ –æ–ø—Ä–æ—Å–∞)
4. –ü—Ä–æ–≤–æ–¥–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –∏ –≤—ã–≥—Ä—É–∂–∞—Ç—å —Ü–µ–Ω—ã –≤ Simphony —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è –ø—Ä–∏–∫–∞–∑–∞ –∏ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏—è –¥–∞—Ç—ã –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

### 1.2 –ë–∏–∑–Ω–µ—Å-—Ü–µ–Ω–Ω–æ—Å—Ç—å
- ‚úÖ –†–µ–∞–ª-—Ç–∞–π–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ (callback –≤–º–µ—Å—Ç–æ –æ–ø—Ä–æ—Å–∞ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω)
- ‚úÖ –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ï–õ–ú–ê (–Ω–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö GET-–∑–∞–ø—Ä–æ—Å–æ–≤)
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (–º–µ–Ω—å—à–µ –∫–æ–¥–∞, –º–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫)
- ‚úÖ –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç: —Å–≤—è–∑–∫–∞ 1–° ‚Üî –ï–õ–ú–ê –∏ –∂—É—Ä–Ω–∞–ª –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–∞—Ç—ã –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω

### 1.3 –ì—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ–µ–∫—Ç–∞
- **–ò—Å—Ç–æ—á–Ω–∏–∫:** 1–°:ERP 2.5, –¥–æ–∫—É–º–µ–Ω—Ç "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–µ–Ω –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã"
- **–ü—Ä–∏–µ–º–Ω–∏–∫:** –ï–õ–ú–ê, –ø—Ä–æ—Ü–µ—Å—Å "–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø—Ä–∏–∫–∞–∑–∞ –ø–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏"
- **–°—Ä–µ–¥—ã:** Preprod (http://10.21.180.147:8000), Prod (https://...)
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** 
  - **Outbound:** REST API –ï–õ–ú–ê `/API/REST/Process/StartWithData`
  - **Inbound:** HTTP —Å–µ—Ä–≤–∏—Å 1–° –¥–ª—è –ø—Ä–∏–µ–º–∞ callback –æ—Ç –ï–õ–ú–ê

### 1.4 –†–æ–ª–∏ –∏ —É—á–∞—Å—Ç–Ω–∏–∫–∏
| –†–æ–ª—å | –û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ | –ü—Ä–∞–≤–∞ –≤ 1–° |
|------|-------------|-----------|
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 1–° | –°–æ–∑–¥–∞–µ—Ç –∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–µ–Ω" | –ß—Ç–µ–Ω–∏–µ, –î–æ–±–∞–≤–ª–µ–Ω–∏–µ |
| –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä 1–° | –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –≤ –ï–õ–ú–ê –∫–æ–º–∞–Ω–¥–æ–π "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –ï–õ–ú–ê" | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ |
| –†–µ–≥–ª–∞–º–µ–Ω—Ç–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ | –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å –æ—Ç–ø—Ä–∞–≤–∫–∏, –ø—Ä–æ–≤–æ–¥–∏—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã | –°–∏—Å—Ç–µ–º–∞ |
| –ï–õ–ú–ê | –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ–º —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è, **–≤—ã–∑—ã–≤–∞–µ—Ç callback 1–°** | –í–Ω–µ—à–Ω—è—è —Å–∏—Å—Ç–µ–º–∞ |

### 1.5 –ù–µ –≤—Ö–æ–¥–∏—Ç –≤ scope (Out of scope)
‚ùå –†—É—á–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–∫–∞–∑–∞ –≤ –ï–õ–ú–ê ‚Üí —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞—Ç–Ω–æ –≤ 1–°  
‚ùå –ú–∞—Å—Å–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –ï–õ–ú–ê –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π  
‚ùå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ 1–° —Å –ï–õ–ú–ê  
‚ùå –ò–º–ø–æ—Ä—Ç —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –ï–õ–ú–ê  
‚ùå **–û—Ç–º–µ–Ω–∞ –ø—Ä–∏–∫–∞–∑–∞ –≤ –ï–õ–ú–ê —á–µ—Ä–µ–∑ API** ‚Äî API –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç, –æ—Ç–º–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –≤—Ä—É—á–Ω—É—é –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –ï–õ–ú–ê

---

## 2. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 2.1 Core Functions (–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)

#### CF-1: –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤ –ï–õ–ú–ê —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–µ–Ω" (–µ—Å–ª–∏ –í–∏–¥–¶–µ–Ω—ã –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –ø–∏—Ç–£–¥–∞–ª–µ–Ω–Ω—ã–µ–ö–∞—Å—Å—ã) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ñ–æ—Ä–º–∞ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–∏–∫–∞–∑–∞ –ï–õ–ú–ê

**–¢—Ä–∏–≥–≥–µ—Ä:** –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–µ–Ω –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã"

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:**
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω (–¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –¥–µ–π—Å—Ç–≤–∏—è, —Ç–∞–±–ª–∏—á–Ω–∞—è —á–∞—Å—Ç—å —Å —Ü–µ–Ω–∞–º–∏ –∏ –≤–∏–¥–∞–º–∏ —Ü–µ–Ω)
- ‚úÖ –í–∏–¥–¶–µ–Ω—ã –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —É–∑–ª—É –ø–ª–∞–Ω–∞ –æ–±–º–µ–Ω–∞ –ø–∏—Ç–£–¥–∞–ª–µ–Ω–Ω—ã–µ–ö–∞—Å—Å—ã —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ –î–ª—è –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ –∑–∞–ø–∏—Å—å –≤ –†–°.–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å –ò–º—è–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã="–£–ò–î–ï–õ–ú–ê"
- ‚úÖ –£ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –§–∏–∑–∏—á–µ—Å–∫–æ–µ–õ–∏—Ü–æ
- ‚úÖ –î–ª—è –§–∏–∑–∏—á–µ—Å–∫–æ–≥–æ–õ–∏—Ü–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ –∑–∞–ø–∏—Å—å –≤ –†–°.–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å –ò–º—è–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã="–£–ò–î–ï–õ–ú–ê"

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ü—Ä–∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
   - –ï–°–õ–ò –í–∏–¥–¶–µ–Ω—ã –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –ø–∏—Ç–£–¥–∞–ª–µ–Ω–Ω—ã–µ–ö–∞—Å—Å—ã ‚Üí –æ—Ç–∫—Ä—ã—Ç—å —Ñ–æ—Ä–º—É –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–∏–∫–∞–∑–∞
   - –ò–ù–ê–ß–ï ‚Üí –æ–±—ã—á–Ω–æ–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –±–µ–∑ –ï–õ–ú–ê

2. **–§–æ—Ä–º–∞ "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–∫–∞–∑–∞ –ï–õ–ú–ê":**
   - –ü–æ–ª–µ: **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π–ó–∞–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ** (–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–°—Å—ã–ª–∫–∞.–§–∏–∑–∏—á–µ—Å–∫–∏–µ–õ–∏—Ü–∞) ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ
   - –¢–∞–±–ª–∏—á–Ω–∞—è —á–∞—Å—Ç—å: **–°–ø–∏—Å–æ–∫–ö–û–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—é** (–§–∏–∑–∏—á–µ—Å–∫–æ–µ–õ–∏—Ü–æ) ‚Äî –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è
   - –ö–Ω–æ–ø–∫–∏: "–û–ö", "–û—Ç–º–µ–Ω–∞"

3. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–û–ö":
   –∞) –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
   
   –±) –ì–µ–Ω–µ—Ä–∞—Ü–∏—è UID –¥–æ–∫—É–º–µ–Ω—Ç–∞ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –≤ –ï–õ–ú–ê (ID1C)
   
   –≤) –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–µ—á–∞—Ç–Ω–æ–π —Ñ–æ—Ä–º—ã Word (DOCX) –∏–∑ —à–∞–±–ª–æ–Ω–∞
   
   –≥) –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ñ–∞–π–ª–∞ –≤ Base64
   
   –¥) –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ JSON —Å –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:
   ```json
   {
     "ProcessToken": "489d2dbf-0017-458e-8edb-f5d5aa70b00f",
     "Context": {
       "Organization": {
         "Uid": "c20aa541-d17e-499b-a9e8-755b2803a9b3"
       },
       "ID1C": "{UID –¥–æ–∫—É–º–µ–Ω—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ü–µ–Ω}",
       "InitiatorString": "ffebdda3-047d-11eb-8169-98f2b3347817",
       "DecreeType": {"Uid": "571c78cc-baa0-4529-a00f-8e6c65790ae7"},
       "DecreeHeadline": "–û–± —É—Å—Ç–∞–Ω–æ–≤–∫–µ —Ü–µ–Ω –¥–ª—è...",
       "Preamble": "–í —Ü–µ–ª—è—Ö –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–µ–π—Å–∫—É—Ä–∞–Ω—Ç–∞",
       "DecreeContent": "1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—ã...",
       "StartDate": "2025-11-22T00:00:00",
       "UserString": "ffebdda3-047d-11eb-8169-98f2b3347817",
       "FileDecree": "77u/0J..."
     }
   }
   ```
   
   –µ) –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –æ—á–µ—Ä–µ–¥—å (—Ä–µ–≥–∏—Å—Ç—Ä MRS_–ü—Ä–æ—Ü–µ—Å—Å—ã–ï–õ–ú–ê, —Å—Ç–∞—Ç—É—Å "–í–û—á–µ—Ä–µ–¥–∏")
   
   –∂) –ó–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
   
   –∑) –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é: "–î–æ–∫—É–º–µ–Ω—Ç –ø—Ä–æ–≤–µ–¥–µ–Ω. –ü—Ä–∏–∫–∞–∑ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω –≤ –æ—á–µ—Ä–µ–¥—å –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É –≤ –ï–õ–ú–ê"

4. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–û—Ç–º–µ–Ω–∞":
   - –û—Ç–º–µ–Ω–∏—Ç—å –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
   - –°–æ–æ–±—â–µ–Ω–∏–µ: "–ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ"

**–ü–æ—Å—Ç—É—Å–ª–æ–≤–∏—è:**
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç –ø—Ä–æ–≤–µ–¥–µ–Ω
- ‚úÖ –ó–∞–ø–∏—Å—å –≤ —Ä–µ–≥–∏—Å—Ç—Ä–µ MRS_–ü—Ä–æ—Ü–µ—Å—Å—ã–ï–õ–ú–ê —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–í–û—á–µ—Ä–µ–¥–∏"
- ‚úÖ –†–µ–≥–ª–∞–º–µ–Ω—Ç–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç –≤ –ï–õ–ú–ê –≤ —Ç–µ—á–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞

---

#### CF-2: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—á–µ—Ä–µ–¥–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ (–†–ó)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –†–µ–≥–ª–∞–º–µ–Ω—Ç–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É –≤ –ï–õ–ú–ê

**–¢—Ä–∏–≥–≥–µ—Ä:** –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –ï–õ–ú–ê (–ø–æ–ª—É—á–µ–Ω–∏–µ AuthToken)
2. –í—ã–±–æ—Ä–∫–∞ –∑–∞–ø–∏—Å–µ–π –∏–∑ MRS_–ü—Ä–æ—Ü–µ—Å—Å—ã–ï–õ–ú–ê:
   - –°—Ç–∞—Ç—É—Å = "–í–û—á–µ—Ä–µ–¥–∏" –ò–õ–ò (–°—Ç–∞—Ç—É—Å = "–û—à–∏–±–∫–∞" –ò –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–ü–æ–ø—ã—Ç–æ–∫ < 3)
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: 10 –∑–∞–ø–∏—Å–µ–π
3. –î–ª—è –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏:
   - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ JSON –∑–∞–ø—Ä–æ—Å–∞ (–Ω–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å ID1C, InitiatorString, UserString)
   - POST /API/REST/Process/StartWithData
   - –ü—Ä–∏ —É—Å–ø–µ—Ö–µ (200 OK, `{"result": "True"}`):
     * –°—Ç–∞—Ç—É—Å = "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω" (–Ω–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å!)
     * –î–∞—Ç–∞–û—Ç–ø—Ä–∞–≤–∫–∏ = —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞
     * **–ó–∞–ø—Ä–æ—Å** = JSON–¢–µ–∫—Å—Ç (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏)
     * –û—Ç–≤–µ—Ç = `{"result": "True"}` (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç–≤–µ—Ç)
     * **–£–ò–î–ï–õ–ú–ê –ø–æ–∫–∞ –ù–ï –∑–∞–ø–æ–ª–Ω–µ–Ω** (–ø—Ä–∏–¥–µ—Ç —á–µ—Ä–µ–∑ callback)
   - –ü—Ä–∏ –æ—à–∏–±–∫–µ:
     * –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–ü–æ–ø—ã—Ç–æ–∫ += 1
     * –¢–µ–∫—Å—Ç–û—à–∏–±–∫–∏ = —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏
     * –û—Ç–≤–µ—Ç = —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏
     * –ï—Å–ª–∏ –ø–æ–ø—ã—Ç–æ–∫ >= 3: –°—Ç–∞—Ç—É—Å = "–¢—Ä–µ–±—É–µ—Ç–í–Ω–∏–º–∞–Ω–∏—è"

**–ü–æ—Å—Ç—É—Å–ª–æ–≤–∏—è:**
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ –ï–õ–ú–ê
- ‚úÖ –°—Ç–∞—Ç—É—Å—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –≤ —Ä–µ–≥–∏—Å—Ç—Ä–µ (–û—Ç–ø—Ä–∞–≤–ª–µ–Ω / –û—à–∏–±–∫–∞)
- ‚úÖ **–û–∂–∏–¥–∞–Ω–∏–µ callback –æ—Ç –ï–õ–ú–ê —Å –£–ò–î–ï–õ–ú–ê –∏ —Å—Ç–∞—Ç—É—Å–æ–º**

---

#### CF-3: –ü—Ä–∏–µ–º callback –æ—Ç –ï–õ–ú–ê (HTTP —Å–µ—Ä–≤–∏—Å) üÜï

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ï–õ–ú–ê –≤—ã–∑—ã–≤–∞–µ—Ç HTTP —Å–µ—Ä–≤–∏—Å 1–° –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞

**–¢—Ä–∏–≥–≥–µ—Ä:** HTTP POST –∑–∞–ø—Ä–æ—Å –æ—Ç –ï–õ–ú–ê

**Endpoint:** `http://{1c-server}/MRS_HRS/hs/elma/callback`

**–í—Ö–æ–¥—è—â–∏–π –∑–∞–ø—Ä–æ—Å (RequestErp):**
```json
{
  "Uid_ERP": "550e8400-e29b-41d4-a716-446655440000",
  "Uid_Elma": "262d1c28-1711-4e9d-b65c-65d8ed8c0d68",
  "Status": "–ù–∞–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏|–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω|–ü–æ–¥–ø–∏—Å–∞–Ω|–û—Ç–∫–ª–æ–Ω–µ–Ω|–û—Ç–º–µ–Ω–µ–Ω",
  "URLProcess": "https://elma.company.ru/process/12345"
}
```

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö:
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ Uid_ERP
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç JSON
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–ø—É—Å—Ç–∏–º–æ—Å—Ç—å Status

2. –ù–∞–π—Ç–∏ –∑–∞–ø–∏—Å—å –≤ —Ä–µ–≥–∏—Å—Ç—Ä–µ MRS_–ü—Ä–æ—Ü–µ—Å—Å—ã–ï–õ–ú–ê:
   - –ì–î–ï Uid–î–æ–∫—É–º–µ–Ω—Ç–∞1–° = Uid_ERP

3. –ï–°–õ–ò –∑–∞–ø–∏—Å—å –ù–ï –Ω–∞–π–¥–µ–Ω–∞:
   - –í–µ—Ä–Ω—É—Ç—å: `{"Status": "Error", "Error": "–î–æ–∫—É–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω", "Uid_ERP": "{Uid_ERP}"}`

4. –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ —Ä–µ–≥–∏—Å—Ç—Ä–µ:
   - –£–ò–î–ï–õ–ú–ê = Uid_Elma (–µ—Å–ª–∏ –ø—Ä–∏—à–µ–ª –≤–ø–µ—Ä–≤—ã–µ)
   - –°—Ç–∞—Ç—É—Å = Status (–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ)
   - URLProcess = URLProcess
   - –î–∞—Ç–∞–ü–æ—Å–ª–µ–¥–Ω–µ–≥–æ–û–±–Ω–æ–≤–ª–µ–Ω–∏—è = –¢–µ–∫—É—â–∞—è–î–∞—Ç–∞()
   - **–ü–æ—Å–ª–µ–¥–Ω–∏–π–û—Ç–≤–µ—ÇJSON** = –¢–µ–ª–æ–ó–∞–ø—Ä–æ—Å–∞JSON (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å callback –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏)

5. –í–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç (ResponseERP):
```json
{
  "Status": "OK",
  "Error": "",
  "Uid_ERP": "550e8400-e29b-41d4-a716-446655440000"
}
```

**–ü–æ—Å—Ç—É—Å–ª–æ–≤–∏—è:**
- ‚úÖ –°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –ï–õ–ú–ê –≤ —Ä–µ–∞–ª-—Ç–∞–π–º
- ‚úÖ –£–ò–î–ï–õ–ú–ê –∑–∞–ø–æ–ª–Ω–µ–Ω
- ‚úÖ –°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

---

#### CF-4: –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ø–æ –¥–∞—Ç–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è (–†–ó)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –†–µ–≥–ª–∞–º–µ–Ω—Ç–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏—è –∏ –ø—Ä–æ–≤–æ–¥–∏—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–º–∏ –ø—Ä–∏–∫–∞–∑–∞–º–∏

**–¢—Ä–∏–≥–≥–µ—Ä:** –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç (–≤ —Å–æ—Å—Ç–∞–≤–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –†–ó)

**–£—Å–ª–æ–≤–∏—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è:**
- ‚úÖ –°—Ç–∞—Ç—É—Å –≤ –ï–õ–ú–ê = "–ü–æ–¥–ø–∏—Å–∞–Ω"
- ‚úÖ –¢–µ–∫—É—â–∞—è–î–∞—Ç–∞ >= –î–∞—Ç–∞–ù–∞—á–∞–ª–∞–î–µ–π—Å—Ç–≤–∏—è–¶–µ–Ω
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç –Ω–µ –ø—Ä–æ–≤–µ–¥–µ–Ω

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –í—ã–±–æ—Ä–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—â–∏—Ö —É—Å–ª–æ–≤–∏—è–º
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞:
   - –î–æ–∫—É–º–µ–Ω—Ç–û–±—ä–µ–∫—Ç.–ó–∞–ø–∏—Å–∞—Ç—å(–†–µ–∂–∏–º–ó–∞–ø–∏—Å–∏–î–æ–∫—É–º–µ–Ω—Ç–∞.–ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ)
   - –ó–∞–ø–∏—Å–∞—Ç—å –≤ —Ä–µ–≥–∏—Å—Ç—Ä –¶–µ–Ω—ã–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã
3. –ó–∞–ø—É—Å–∫ –≤—ã–≥—Ä—É–∑–∫–∏ –≤ Simphony:
   - –û—Ç–±–æ—Ä –≤–∏–¥–æ–≤ —Ü–µ–Ω –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –≤ –ø–∏—Ç–£–¥–∞–ª–µ–Ω–Ω—ã–µ–ö–∞—Å—Å—ã.–í–∏–¥–¶–µ–Ω
   - –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ–∑–∏—Ü–∏–π –º–µ–Ω—é –≤ –æ—á–µ—Ä–µ–¥—å MRS_–û—á–µ—Ä–µ–¥—å–í—ã–≥—Ä—É–∑–∫–∏–ú–µ–Ω—éSimphony

**–ü–æ—Å—Ç—É—Å–ª–æ–≤–∏—è:**
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç –ø—Ä–æ–≤–µ–¥–µ–Ω
- ‚úÖ –¶–µ–Ω—ã –∑–∞–ø–∏—Å–∞–Ω—ã –≤ —Ä–µ–≥–∏—Å—Ç—Ä
- ‚úÖ –ü–æ–∑–∏—Ü–∏–∏ –º–µ–Ω—é –ø–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –æ—á–µ—Ä–µ–¥—å Simphony

---

#### CF-5: –õ–æ–∫–∞–ª—å–Ω–∞—è –æ—Ç–º–µ–Ω–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ ‚ö†Ô∏è

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–∏ –ø–æ–º–µ—Ç–∫–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å –≤ 1–° (–ë–ï–ó –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ –ï–õ–ú–ê)

**–¢—Ä–∏–≥–≥–µ—Ä:** –°–æ–±—ã—Ç–∏–µ "–ü—Ä–∏–£—Å—Ç–∞–Ω–æ–≤–∫–µ–ü–æ–º–µ—Ç–∫–∏–£–¥–∞–ª–µ–Ω–∏—è" –¥–æ–∫—É–º–µ–Ω—Ç–∞ –£—Å—Ç–∞–Ω–æ–≤–∫–∞–¶–µ–Ω–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã

**–£—Å–ª–æ–≤–∏—è:**
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ –ï–õ–ú–ê (–∑–∞–ø–∏—Å—å –≤ MRS_–ü—Ä–æ—Ü–µ—Å—Å—ã–ï–õ–ú–ê —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- ‚úÖ –°—Ç–∞—Ç—É—Å –ù–ï "–û—Ç–º–µ–Ω–µ–Ω"

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ù–∞–π—Ç–∏ –∑–∞–ø–∏—Å—å –≤ —Ä–µ–≥–∏—Å—Ç—Ä–µ MRS_–ü—Ä–æ—Ü–µ—Å—Å—ã–ï–õ–ú–ê
2. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤ —Ä–µ–≥–∏—Å—Ç—Ä–µ: –°—Ç–∞—Ç—É—Å = "–û—Ç–º–µ–Ω–µ–Ω"
3. –ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç –±—ã–ª –ø—Ä–æ–≤–µ–¥–µ–Ω: —Å–Ω—è—Ç—å —Å –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** API –ï–õ–ú–ê –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Ç–º–µ–Ω—É –ø—Ä–æ—Ü–µ—Å—Å–∞. –û—Ç–º–µ–Ω–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ –≤ 1–°. –í –ï–õ–ú–ê –ø—Ä–æ—Ü–µ—Å—Å –æ—Å—Ç–∞–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º –∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–º–µ–Ω–µ–Ω –≤—Ä—É—á–Ω—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ï–õ–ú–ê.

**–ü–æ—Å—Ç—É—Å–ª–æ–≤–∏—è:**
- ‚úÖ –°—Ç–∞—Ç—É—Å –≤ 1–° = "–û—Ç–º–µ–Ω–µ–Ω"
- ‚ö†Ô∏è –ü—Ä–∏–∫–∞–∑ –≤ –ï–õ–ú–ê –æ—Å—Ç–∞–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è –æ—Ç–º–µ–Ω–∞)

---

### 2.2 Flows (–ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö)

#### Flow-1: –°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏–∫–∞–∑–∞ (Happy Path)

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–µ–Ω"
   ‚îú‚îÄ –£–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞—Ç—É –Ω–∞—á–∞–ª–∞ –¥–µ–π—Å—Ç–≤–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ 2 –Ω–µ–¥–µ–ª–∏)
   ‚îî‚îÄ –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Ç–∞–±–ª–∏—á–Ω—É—é —á–∞—Å—Ç—å —Å —Ü–µ–Ω–∞–º–∏

2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–≤–æ–¥–∏—Ç –¥–æ–∫—É–º–µ–Ω—Ç
   ‚îú‚îÄ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ñ–æ—Ä–º–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–∏–∫–∞–∑–∞
   ‚îú‚îÄ –ó–∞–ø–æ–ª–Ω—è–µ—Ç –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ–ó–∞–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ, –°–ø–∏—Å–æ–∫–ö–û–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—é
   ‚îú‚îÄ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Word-—Ñ–∞–π–ª–∞ (–ø–µ—á–∞—Ç–Ω–∞—è —Ñ–æ—Ä–º–∞)
   ‚îî‚îÄ –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –æ—á–µ—Ä–µ–¥—å (MRS_–ü—Ä–æ—Ü–µ—Å—Å—ã–ï–õ–ú–ê, —Å—Ç–∞—Ç—É—Å "–í–û—á–µ—Ä–µ–¥–∏")

3. –†–ó –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω)
   ‚îú‚îÄ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –ï–õ–ú–ê (AuthToken)
   ‚îú‚îÄ –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ JSON (ProcessToken + Context —Å ID1C, InitiatorString)
   ‚îú‚îÄ POST /API/REST/Process/StartWithData
   ‚îî‚îÄ –û—Ç–≤–µ—Ç: {"result": "True"} ‚Üí –°—Ç–∞—Ç—É—Å = "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω"

4. –ï–õ–ú–ê –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–≤–æ–µ–π —Å—Ç–æ—Ä–æ–Ω–µ
   ‚îú‚îÄ –°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
   ‚îî‚îÄ –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Uid_Elma –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–∞

5. **–ï–õ–ú–ê –≤—ã–∑—ã–≤–∞–µ—Ç callback 1–° (–Ω–æ–≤—ã–π —à–∞–≥!)**
   ‚îú‚îÄ POST http://1c-server/hs/elma/callback
   ‚îú‚îÄ –¢–µ–ª–æ: {"Uid_ERP": "...", "Uid_Elma": "...", "Status": "–ù–∞–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏", "URLProcess": "..."}
   ‚îî‚îÄ 1–° –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä: –£–ò–î–ï–õ–ú–ê, –°—Ç–∞—Ç—É—Å, URLProcess

6. –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –≤ –ï–õ–ú–ê (–¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ï–õ–ú–ê)
   ‚îú‚îÄ –°–æ–≥–ª–∞—Å–æ–≤–∞—Ç–µ–ª–∏ –æ–¥–æ–±—Ä—è—é—Ç –ø—Ä–∏–∫–∞–∑
   ‚îî‚îÄ –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–∏–∫–∞–∑

7. **–ï–õ–ú–ê –≤—ã–∑—ã–≤–∞–µ—Ç callback 1–° –ø–æ–≤—Ç–æ—Ä–Ω–æ**
   ‚îú‚îÄ –¢–µ–ª–æ: {"Uid_ERP": "...", "Uid_Elma": "...", "Status": "–ü–æ–¥–ø–∏—Å–∞–Ω", "URLProcess": "..."}
   ‚îî‚îÄ 1–° –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å: "–ü–æ–¥–ø–∏—Å–∞–Ω"

8. –†–ó –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–∞—Ç—É –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω)
   ‚îú‚îÄ –ï–°–õ–ò –¢–µ–∫—É—â–∞—è–î–∞—Ç–∞ >= –î–∞—Ç–∞–ù–∞—á–∞–ª–∞–î–µ–π—Å—Ç–≤–∏—è
   ‚îú‚îÄ –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
   ‚îî‚îÄ –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –æ—á–µ—Ä–µ–¥—å Simphony

9. –í—ã–≥—Ä—É–∑–∫–∞ –≤ Simphony (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–µ—Ö–∞–Ω–∏–∑–º)
   ‚îî‚îÄ –¶–µ–Ω—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –Ω–∞ –∫–∞—Å—Å–∞—Ö
```

---

#### Flow-2: –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ø—Ä–∏–∫–∞–∑–∞ (—á–µ—Ä–µ–∑ callback)

```
1. –î–æ–∫—É–º–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ –ï–õ–ú–ê (—Å—Ç–∞—Ç—É—Å "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω")

2. –ï–õ–ú–ê –≤—ã–∑—ã–≤–∞–µ—Ç callback ‚Üí —Å—Ç–∞—Ç—É—Å "–ù–∞–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏"

3. –°–æ–≥–ª–∞—Å–æ–≤–∞—Ç–µ–ª—å –≤ –ï–õ–ú–ê –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –ø—Ä–∏–∫–∞–∑ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º

4. **–ï–õ–ú–ê –≤—ã–∑—ã–≤–∞–µ—Ç callback 1–°**
   ‚îú‚îÄ {"Uid_ERP": "...", "Status": "–û—Ç–∫–ª–æ–Ω–µ–Ω", "URLProcess": "..."}
   ‚îî‚îÄ 1–° –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å: "–û—Ç–∫–ª–æ–Ω–µ–Ω"

5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å—Ç–∞—Ç—É—Å "–û—Ç–∫–ª–æ–Ω–µ–Ω" –Ω–∞ —Ñ–æ—Ä–º–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
   ‚îú‚îÄ –ú–æ–∂–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å URLProcess –≤ –ï–õ–ú–ê –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
   ‚îî‚îÄ –ú–æ–∂–µ—Ç –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Ü–µ–Ω—ã –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ
```

---

## 3. –î–∞–Ω–Ω—ã–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### 3.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ –ï–õ–ú–ê (API Contract) üîÑ

**Endpoint:** `POST /API/REST/Process/StartWithData`

**Headers:**
```json
{
  "ApplicationToken": "{–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ MRS_ApplicationToken–ï–õ–ú–ê}",
  "AuthToken": "{–ø–æ–ª—É—á–µ–Ω —á–µ—Ä–µ–∑ LoginWith}",
  "Content-Type": "application/json"
}
```

**Body (–Ω–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞):**
```json
{
  "ProcessToken": "489d2dbf-0017-458e-8edb-f5d5aa70b00f",
  "Context": {
    "Organization": {
      "Uid": "c20aa541-d17e-499b-a9e8-755b2803a9b3"
    },
     "ID1C": "550e8400-e29b-41d4-a716-446655440000",
    "InitiatorString": "ffebdda3-047d-11eb-8169-98f2b3347817",
    "DecreeType": {
      "Uid": "571c78cc-baa0-4529-a00f-8e6c65790ae7"
    },
    "DecreeHeadline": "–û–± —É—Å—Ç–∞–Ω–æ–≤–∫–µ —Ü–µ–Ω –¥–ª—è –û–û–û '–ö–æ–º–ø–∞–Ω–∏—è' —Å 01.12.2025",
    "Preamble": "–í —Ü–µ–ª—è—Ö –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–µ–π—Å–∫—É—Ä–∞–Ω—Ç–∞",
    "DecreeContent": "1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é ‚Ññ1.\n2. –ö–æ–Ω—Ç—Ä–æ–ª—å –∑–∞ –≤–Ω–µ—Å–µ–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–æ–∑–ª–æ–∂–∏—Ç—å –Ω–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞.\n3. –ö–æ–Ω—Ç—Ä–æ–ª—å –∑–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ–º –ø—Ä–∏–∫–∞–∑–∞ –≤–æ–∑–ª–æ–∂–∏—Ç—å –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞.",
    "StartDate": "2025-12-01T00:00:00",
    "UserString": "ffebdda3-047d-11eb-8169-98f2b3347817",
    "FileDecree": "UEsDBBQABgAIAAAAIQ..."
  }
}
```

**Response (Success 200 OK):**
```json
{
  "result": "True",
  "CurrentOperation": null
}
```

---

### 3.2 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ callback –æ—Ç –ï–õ–ú–ê (API Contract) üÜï

**Endpoint:** `POST http://{1c-server}/MRS_HRS/hs/elma/callback`

**Headers:**
```json
{
  "Content-Type": "application/json",
  "Authorization": "Bearer {—Ç–æ–∫–µ–Ω –¥–ª—è –∑–∞—â–∏—Ç—ã endpoint, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ}"
}
```

**Request Body (RequestErp):**
```json
{
  "Uid_ERP": "550e8400-e29b-41d4-a716-446655440000",
  "Uid_Elma": "262d1c28-1711-4e9d-b65c-65d8ed8c0d68",
  "Status": "–ù–∞–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏",
  "URLProcess": "https://elma.company.ru/process/12345"
}
```

**Response (ResponseERP):**
```json
{
  "Status": "OK",
  "Error": "",
  "Uid_ERP": "550e8400-e29b-41d4-a716-446655440000"
}
```

---

### 3.3 –ú–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π 1–° ‚Üí –ï–õ–ú–ê üîÑ

| –ü–æ–ª–µ –ï–õ–ú–ê | –ò—Å—Ç–æ—á–Ω–∏–∫ 1–° | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|-------------|-----|----------------|------------|
| **ProcessToken** | –†–°.–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã: MRS_ProcessToken–ï–õ–ú–ê | GUID | ‚úÖ –î–∞ | `489d2dbf-0017-458e-8edb-f5d5aa70b00f` |
| **Organization.ID1C** | **–°—Ç—Ä–æ–∫–∞(–£–Ω–∏–∫–∞–ª—å–Ω—ã–π–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä(–î–æ–∫—É–º–µ–Ω—Ç))** | String | ‚úÖ –î–∞ | UID –¥–æ–∫—É–º–µ–Ω—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ü–µ–Ω |
| **Organization.Uid** | –í–∏–¥–¶–µ–Ω—ã ‚Üí –ø–∏—Ç–£–¥–∞–ª–µ–Ω–Ω—ã–µ–ö–∞—Å—Å—ã.–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è ‚Üí –†–° | GUID | ‚úÖ –î–∞ | Uid –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ –ï–õ–ú–ê |
| **InitiatorString** | –¢–µ–∫—É—â–∏–π–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å().–§–∏–∑–õ–∏—Ü–æ ‚Üí –†–° | String | ‚úÖ –î–∞ | Uid —Ñ–∏–∑–ª–∏—Ü–∞ (—Å—Ç—Ä–æ–∫–∞, –ù–ï –æ–±—ä–µ–∫—Ç!) |
| **DecreeType.Uid** | –†–°: MRS_DecreeType–£–ò–î–ï–õ–ú–ê | GUID | ‚úÖ –î–∞ | `571c78cc-baa0-4529-a00f-8e6c65790ae7` |
| **DecreeHeadline** | –®–∞–±–ª–æ–Ω | String | ‚úÖ –î–∞ | "–û–± —É—Å—Ç–∞–Ω–æ–≤–∫–µ —Ü–µ–Ω –¥–ª—è {–û—Ä–≥} —Å {–î–∞—Ç–∞}" |
| **Preamble** | –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ | String | ‚úÖ –î–∞ | "–í —Ü–µ–ª—è—Ö –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–µ–π—Å–∫—É—Ä–∞–Ω—Ç–∞" |
| **DecreeContent** | –§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è | String | ‚úÖ –î–∞ | –ü—É–Ω–∫—Ç—ã –ø—Ä–∏–∫–∞–∑–∞ —á–µ—Ä–µ–∑ \n |
| **StartDate** | –£—Å—Ç–∞–Ω–æ–≤–∫–∞–¶–µ–Ω.–î–∞—Ç–∞–ù–∞—á–∞–ª–∞–î–µ–π—Å—Ç–≤–∏—è | DateTime | ‚úÖ –î–∞ | ISO 8601 (–ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è) |
| **UserString** | **–¢–æ—Ç –∂–µ —á—Ç–æ InitiatorString** | String | ‚úÖ –î–∞ | Uid —Ñ–∏–∑–ª–∏—Ü–∞ –¥–ª—è –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è |
| **FileDecree** | –ü–µ—á–∞—Ç–Ω–∞—è —Ñ–æ—Ä–º–∞ DOCX | Base64 String | ‚úÖ –î–∞ | Word-—Ñ–∞–π–ª –≤ base64 |

---

### 3.4 –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Å—Ç–∞—Ç—É—Å–æ–≤ üîÑ

| –°—Ç–∞—Ç—É—Å 1–° | –°—Ç–∞—Ç—É—Å –ï–õ–ú–ê | –û–ø–∏—Å–∞–Ω–∏–µ | –ò—Å—Ç–æ—á–Ω–∏–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |
|-----------|-------------|----------|---------------------|
| **–í–û—á–µ—Ä–µ–¥–∏** | ‚Äî | –î–æ–∫—É–º–µ–Ω—Ç –≤ –æ—á–µ—Ä–µ–¥–∏ –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É | 1–° (–ø—Ä–∏ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–µ –≤ –æ—á–µ—Ä–µ–¥—å) |
| **–û—Ç–ø—Ä–∞–≤–ª–µ–Ω** üÜï | ‚Äî | –û—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ –ï–õ–ú–ê, –æ–∂–∏–¥–∞–Ω–∏–µ callback | 1–° (–ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è result: True) |
| **–ù–∞–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏** | InProgress | –ü—Ä–æ—Ü–µ—Å—Å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è –≤ –ï–õ–ú–ê | **Callback –æ—Ç –ï–õ–ú–ê** |
| **–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω** | Approved | –í—Å–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç–µ–ª–∏ –æ–¥–æ–±—Ä–∏–ª–∏ | **Callback –æ—Ç –ï–õ–ú–ê** |
| **–ü–æ–¥–ø–∏—Å–∞–Ω** | Signed | –ü—Ä–∏–∫–∞–∑ –ø–æ–¥–ø–∏—Å–∞–Ω —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–º | **Callback –æ—Ç –ï–õ–ú–ê** |
| **–û—Ç–∫–ª–æ–Ω–µ–Ω** | Rejected | –û—Ç–∫–ª–æ–Ω–µ–Ω —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç–µ–ª–µ–º | **Callback –æ—Ç –ï–õ–ú–ê** |
| **–û—Ç–º–µ–Ω–µ–Ω** | Cancelled | –î–æ–∫—É–º–µ–Ω—Ç —É–¥–∞–ª–µ–Ω –≤ 1–° | 1–° (–ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏) |
| **–û—à–∏–±–∫–∞** | ‚Äî | –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ (–ø–æ–ø—ã—Ç–æ–∫ < 3) | 1–° (–ø—Ä–∏ –æ—à–∏–±–∫–µ HTTP) |
| **–¢—Ä–µ–±—É–µ—Ç–í–Ω–∏–º–∞–Ω–∏—è** | ‚Äî | –û—à–∏–±–∫–∞ –ø–æ—Å–ª–µ 3 –ø–æ–ø—ã—Ç–æ–∫ | 1–° (–ø–æ—Å–ª–µ 3 –ø–æ–ø—ã—Ç–æ–∫) |

---

## 4. –û–±—ä–µ–∫—Ç—ã –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

### 4.1 –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ (1 —à—Ç)

#### ‚¨ú –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ.MRS_–°—Ç–∞—Ç—É—Å—ã–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏–ï–õ–ú–ê

**–ó–Ω–∞—á–µ–Ω–∏—è:**
- [ ] –í–û—á–µ—Ä–µ–¥–∏
- [ ] **–û—Ç–ø—Ä–∞–≤–ª–µ–Ω** üÜï (–Ω–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å!)
- [ ] –ù–∞–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏
- [ ] –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω
- [ ] –ü–æ–¥–ø–∏—Å–∞–Ω
- [ ] –û—Ç–∫–ª–æ–Ω–µ–Ω
- [ ] –û—Ç–º–µ–Ω–µ–Ω
- [ ] –û—à–∏–±–∫–∞
- [ ] –¢—Ä–µ–±—É–µ—Ç–í–Ω–∏–º–∞–Ω–∏—è

---

### 4.2 –†–µ–≥–∏—Å—Ç—Ä —Å–≤–µ–¥–µ–Ω–∏–π (1 —à—Ç) üîÑ

#### ‚¨ú –†–°.MRS_–ü—Ä–æ—Ü–µ—Å—Å—ã–ï–õ–ú–ê

**–ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å:** –ù–µ–ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π  
**–†–µ–∂–∏–º –∑–∞–ø–∏—Å–∏:** –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π

**–ò–∑–º–µ—Ä–µ–Ω–∏—è:**
- [ ] **Uid–î–æ–∫—É–º–µ–Ω—Ç–∞1–°** (–°—Ç—Ä–æ–∫–∞ 36) üîÑ ‚Äî UID –¥–æ–∫—É–º–µ–Ω—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ü–µ–Ω –¥–ª—è —Å–≤—è–∑–∏ —Å callback

**–†–µ—Å—É—Ä—Å—ã:**
- [ ] –î–æ–∫—É–º–µ–Ω—Ç1–° (–î–æ–∫—É–º–µ–Ω—Ç–°—Å—ã–ª–∫–∞.–£—Å—Ç–∞–Ω–æ–≤–∫–∞–¶–µ–Ω–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã) ‚Äî –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
- [ ] –£–ò–î–ï–õ–ú–ê (–°—Ç—Ä–æ–∫–∞ 36) ‚Äî –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è **—á–µ—Ä–µ–∑ callback**
- [ ] –°—Ç–∞—Ç—É—Å (–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ–°—Å—ã–ª–∫–∞.MRS_–°—Ç–∞—Ç—É—Å—ã–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏–ï–õ–ú–ê)
- [ ] **URLProcess** (–°—Ç—Ä–æ–∫–∞ 250) üÜï ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å –≤ –ï–õ–ú–ê
- [ ] –î–∞—Ç–∞–û—Ç–ø—Ä–∞–≤–∫–∏ (–î–∞—Ç–∞)
- [ ] **–î–∞—Ç–∞–ü–æ—Å–ª–µ–¥–Ω–µ–≥–æ–û–±–Ω–æ–≤–ª–µ–Ω–∏—è** (–î–∞—Ç–∞) üîÑ ‚Äî –≤–º–µ—Å—Ç–æ –î–∞—Ç–∞–ü–æ—Å–ª–µ–¥–Ω–µ–≥–æ–û–ø—Ä–æ—Å–∞
- [ ] **–ó–∞–ø—Ä–æ—Å** (–°—Ç—Ä–æ–∫–∞ 0) üÜï ‚Äî JSON –∑–∞–ø—Ä–æ—Å–∞ –∫ –ï–õ–ú–ê ( —Ö—Ä–∞–Ω–∏–º –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–∏–∫–∞–∑–∞ –∏–ª–∏ –æ—Ç–ª–∞–¥–∫–∏ )
- [ ] **–û—Ç–≤–µ—Ç** (–°—Ç—Ä–æ–∫–∞ 0) üÜï ‚Äî JSON callback –æ—Ç –ï–õ–ú–ê (–¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è)
—Ö- [ ] –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π–ï–õ–ú–ê (–°—Ç—Ä–æ–∫–∞ 500) ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –∏–∑ –ï–õ–ú–ê —á–µ—Ä–µ–∑ URLProcess
- [ ] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–ü–æ–ø—ã—Ç–æ–∫ (–ß–∏—Å–ª–æ 3,0)
- [ ] –¢–µ–∫—Å—Ç–û—à–∏–±–∫–∏ (–°—Ç—Ä–æ–∫–∞ 500)
- [ ] –î–∞—Ç–∞–ü–æ—Å–ª–µ–¥–Ω–µ–π–ü–æ–ø—ã—Ç–∫–∏ (–î–∞—Ç–∞)

**–ò–Ω–¥–µ–∫—Å—ã:**
- [ ] –ü–æ –ø–æ–ª—é `Uid–î–æ–∫—É–º–µ–Ω—Ç–∞1–°` (PRIMARY –¥–ª—è callback)
- [ ] –ü–æ –ø–æ–ª—é `–°—Ç–∞—Ç—É—Å`
- [ ] –ü–æ –ø–æ–ª—é `–£–ò–î–ï–õ–ú–ê`

**üî¥ –£–î–ê–õ–ò–¢–¨ –∏–∑ v2.2:**
- ‚ùå `–î–∞—Ç–∞–ü–æ—Å–ª–µ–¥–Ω–µ–≥–æ–û–ø—Ä–æ—Å–∞` ‚Äî –±–æ–ª—å—à–µ –Ω–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ (callback –≤–º–µ—Å—Ç–æ polling)

---

### 4.3 HTTP —Å–µ—Ä–≤–∏—Å (1 —à—Ç) üÜï

#### ‚¨ú HTTP–°–µ—Ä–≤–∏—Å.MRS_HTTP–°–µ—Ä–≤–∏—Å–ï–õ–ú–ê

**URL:** `/MRS_HRS/hs/elma`

**–ú–µ—Ç–æ–¥—ã:**
1. **POST /callback** ‚Äî –ø—Ä–∏–µ–º callback –æ—Ç –ï–õ–ú–ê —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å—Ç–∞—Ç—É—Å–∞

**–ú–æ–¥—É–ª—å:** `MRS_HTTP–°–µ—Ä–≤–∏—Å–ï–õ–ú–ê–ú–æ–¥—É–ª—å`

**–§—É–Ω–∫—Ü–∏–∏ –≤ –º–æ–¥—É–ª–µ:**
- [ ] `–û–±—Ä–∞–±–æ—Ç–∞—Ç—åCallback–û—Ç–ï–õ–ú–ê(–¢–µ–ª–æ–ó–∞–ø—Ä–æ—Å–∞)` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
- [ ] `–í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å–í—Ö–æ–¥—è—â–∏–µ–î–∞–Ω–Ω—ã–µ(RequestErp)` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è
- [ ] `–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å–û—Ç–≤–µ—Ç–û—à–∏–±–∫–∏(–ö–æ–¥, –°–æ–æ–±—â–µ–Ω–∏–µ, Uid_ERP)` ‚Äî ResponseERP —Å –æ—à–∏–±–∫–æ–π

---

### 4.4 –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ –†–°.–ü–õ_–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã (7 –∑–∞–ø–∏—Å–µ–π)

- [ ] **MRS_URL–°–µ—Ä–≤–∏—Å–∞–ï–õ–ú–ê** ‚Äî `https://elma.company.ru` –∏–ª–∏ `http://10.21.180.147:8000`
- [ ] **MRS_ApplicationToken–ï–õ–ú–ê** ‚Äî —Ç–æ–∫–µ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ï–õ–ú–ê
- [ ] **MRS_–ò–º—è–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–ï–õ–ú–ê** ‚Äî –ª–æ–≥–∏–Ω –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- [ ] **MRS_–ü–∞—Ä–æ–ª—å–ï–õ–ú–ê** ‚Äî –ø–∞—Ä–æ–ª—å (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π)
- [ ] **MRS_ProcessToken–ï–õ–ú–ê** ‚Äî `489d2dbf-0017-458e-8edb-f5d5aa70b00f` üîÑ (–Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω!)
- [ ] **MRS_DecreeType–£–ò–î–ï–õ–ú–ê** ‚Äî `571c78cc-baa0-4529-a00f-8e6c65790ae7`
- [ ] **MRS_–¢–∞–π–º–∞—É—Ç–ó–∞–ø—Ä–æ—Å–∞–ï–õ–ú–ê** ‚Äî `30`

---

### 4.5 –û–±—â–∏–µ –º–æ–¥—É–ª–∏ üîÑ

#### ‚¨ú –û–ú.MRS_–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–ï–õ–ú–ê–°–µ—Ä–≤–µ—Ä
**–¢–∏–ø:** –°–µ—Ä–≤–µ—Ä–Ω—ã–π, –í—ã–∑–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞

**üü¢ –°–û–•–†–ê–ù–ò–¢–¨ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π):**
- [ ] `–í—ã–ø–æ–ª–Ω–∏—Ç—å–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é–ï–õ–ú–ê()` ‚Äî –≥–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –†–ó
- [ ] `–ü—Ä–æ–≤–µ—Ä–∏—Ç—å–ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å–û—Ç–ø—Ä–∞–≤–∫–∏–í–ï–õ–ú–ê(–î–æ–∫—É–º–µ–Ω—Ç, –û—Ç–∫–∞–∑)`
- [ ] `–ü–æ—Å—Ç–∞–≤–∏—Ç—å–î–æ–∫—É–º–µ–Ω—Ç–í–û—á–µ—Ä–µ–¥—å–ï–õ–ú–ê(–î–æ–∫—É–º–µ–Ω—Ç–°—Å—ã–ª–∫–∞, –ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ü—Ä–∏–∫–∞–∑–∞)`
- [ ] `–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è–í–ï–õ–ú–ê()`
- [ ] `–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—åWord–§–∞–π–ª–ü—Ä–∏–∫–∞–∑–∞(–î–æ–∫—É–º–µ–Ω—Ç–°—Å—ã–ª–∫–∞, –ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ü—Ä–∏–∫–∞–∑–∞)`
- [ ] `–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å–íBase64(–î–≤–æ–∏—á–Ω—ã–µ–î–∞–Ω–Ω—ã–µ)`
- [ ] `–ü–æ–ª—É—á–∏—Ç—åUid–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏–ò–∑–ü–ª–∞–Ω–∞–û–±–º–µ–Ω–∞(–í–∏–¥–¶–µ–Ω—ã)`
- [ ] `–ü–æ–ª—É—á–∏—Ç—åUid–§–∏–∑–õ–∏—Ü–∞–ï–õ–ú–ê(–§–∏–∑–õ–∏—Ü–æ–°—Å—ã–ª–∫–∞)` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **—Å—Ç—Ä–æ–∫—É** (–Ω–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É!)
- [ ] `–ü–æ–ª—É—á–∏—Ç—åUid–¢–µ–∫—É—â–µ–≥–æ–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–ï–õ–ú–ê()` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **—Å—Ç—Ä–æ–∫—É**
- [ ] `–ü—Ä–æ–≤–µ—Å—Ç–∏–î–æ–∫—É–º–µ–Ω—Ç—ã–ü–æ–î–∞—Ç–µ–ü—Ä–∏–º–µ–Ω–µ–Ω–∏—è()`
- [ ] `–ü—Ä–æ–≤–µ—Å—Ç–∏–î–æ–∫—É–º–µ–Ω—Ç–£—Å—Ç–∞–Ω–æ–≤–∫–∞–¶–µ–Ω(–î–æ–∫—É–º–µ–Ω—Ç–°—Å—ã–ª–∫–∞)`
- [ ] `–í—ã–≥—Ä—É–∑–∏—Ç—å–¶–µ–Ω—ã–íSimphony(–î–æ–∫—É–º–µ–Ω—Ç–°—Å—ã–ª–∫–∞)`
- [ ] `–û—Ç–ø—Ä–∞–≤–∏—Ç—åEmail–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–û–°–º–µ–Ω–µ–°—Ç–∞—Ç—É—Å–∞(–î–æ–∫—É–º–µ–Ω—Ç–°—Å—ã–ª–∫–∞, –ù–æ–≤—ã–π–°—Ç–∞—Ç—É—Å)`

**üîß –ò–ó–ú–ï–ù–ò–¢–¨ (—É–ø—Ä–æ—Å—Ç–∏—Ç—å):**
- [ ] `–û—Ç–º–µ–Ω–∏—Ç—å–ü—Ä–∏–∫–∞–∑–í–ï–õ–ú–ê(–î–æ–∫—É–º–µ–Ω—Ç–°—Å—ã–ª–∫–∞)` ‚Üí –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ `–û—Ç–º–µ–Ω–∏—Ç—å–ü—Ä–∏–∫–∞–∑–õ–æ–∫–∞–ª—å–Ω–æ()` ‚Äî —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–∞—è –æ—Ç–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞ –±–µ–∑ –≤—ã–∑–æ–≤–∞ API –ï–õ–ú–ê

**üîß –ò–ó–ú–ï–ù–ò–¢–¨:**
- [ ] `–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—åJSON–î–ª—è–ï–õ–ú–ê(–î–æ–∫—É–º–µ–Ω—Ç–°—Å—ã–ª–∫–∞, –ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ü—Ä–∏–∫–∞–∑–∞)` ‚Äî –Ω–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
  - Organization.ID1C = –°—Ç—Ä–æ–∫–∞(–£–Ω–∏–∫–∞–ª—å–Ω—ã–π–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä(–î–æ–∫—É–º–µ–Ω—Ç))
  - InitiatorString = Uid —Ñ–∏–∑–ª–∏—Ü–∞ (—Å—Ç—Ä–æ–∫–∞, –Ω–µ {Uid: "..."})
  - UserString = InitiatorString
  - –£–±—Ä–∞—Ç—å DecreeResponsible, NotificationUsr (–µ—Å–ª–∏ –±—ã–ª–∏)
  
- [ ] `–û–±—Ä–∞–±–æ—Ç–∞—Ç—å–û—á–µ—Ä–µ–¥—å–û—Ç–ø—Ä–∞–≤–∫–∏()` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ `{"result": "True"}`:
  - –ï–°–õ–ò result = "True": –°—Ç–∞—Ç—É—Å = "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω" (–ù–ï "–ù–∞–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏"!)
  - –£–ò–î–ï–õ–ú–ê –ø–æ–∫–∞ –ù–ï –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è (–ø—Ä–∏–¥–µ—Ç —á–µ—Ä–µ–∑ callback)

**üÜï –î–û–ë–ê–í–ò–¢–¨:**
- [ ] `–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—åUid–î–æ–∫—É–º–µ–Ω—Ç–∞1–°(–î–æ–∫—É–º–µ–Ω—Ç–°—Å—ã–ª–∫–∞)` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫–æ–≤—ã–π UID
- [ ] `–û–±—Ä–∞–±–æ—Ç–∞—Ç—åCallback–û—Ç–ï–õ–ú–ê(RequestErp)` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ callback
- [ ] `–û–±–Ω–æ–≤–∏—Ç—å–°—Ç–∞—Ç—É—Å–ò–∑Callback(Uid_ERP, Uid_Elma, Status, URLProcess)` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞
- [ ] `–í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—åRequestErp(RequestErp)` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] `–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å–ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ü—Ä–∏–∫–∞–∑–∞–ò–∑JSON(–ó–∞–ø—Ä–æ—Å)` ‚Äî –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ–æ—Ä–º—ã –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏

**üî¥ –£–î–ê–õ–ò–¢–¨:**
- ‚ùå `–û–ø—Ä–æ—Å–∏—Ç—å–°—Ç–∞—Ç—É—Å—ã–î–æ–∫—É–º–µ–Ω—Ç–æ–≤()` ‚Äî –Ω–µ –Ω—É–∂–µ–Ω (callback –≤–º–µ—Å—Ç–æ polling)
- ‚ùå `–ü–æ–ª—É—á–∏—Ç—å–°—Ç–∞—Ç—É—Å–ò–∑–ï–õ–ú–ê(–£–ò–î–ï–õ–ú–ê, AuthToken)` ‚Äî –Ω–µ –Ω—É–∂–µ–Ω
- ‚ùå `–û—Ç–ø—Ä–∞–≤–∏—Ç—å–í–ï–õ–ú–ê(–î–æ–∫—É–º–µ–Ω—Ç–°—Å—ã–ª–∫–∞, AuthToken)` ‚Äî –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ –û–±—Ä–∞–±–æ—Ç–∞—Ç—å–û—á–µ—Ä–µ–¥—å–û—Ç–ø—Ä–∞–≤–∫–∏
- ‚ùå `–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å–°—Ç–∞—Ç—É—Å–ï–õ–ú–ê–í–°—Ç–∞—Ç—É—Å1–°(–°—Ç–∞—Ç—É—Å–ï–õ–ú–ê)` ‚Äî —Å—Ç–∞—Ç—É—Å —Ç–µ–ø–µ—Ä—å –ø—Ä–∏—Ö–æ–¥–∏—Ç –Ω–∞–ø—Ä—è–º—É—é
- ‚ùå `–ü–æ–ª—É—á–∏—Ç—å–ú–∞—Å—Å–∏–≤Uid–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π–ï–õ–ú–ê()` ‚Äî DecreeResponsible/NotificationUsr –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è

---

#### ‚¨ú –û–ú.MRS_–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–ï–õ–ú–ê–ö–ª–∏–µ–Ω—Ç
**–¢–∏–ø:** –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π

**üü¢ –°–û–•–†–ê–ù–ò–¢–¨ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π):**
- [ ] `–ö–æ–º–∞–Ω–¥–∞–û—Ç–ø—Ä–∞–≤–∏—Ç—å–í–ï–õ–ú–ê(–§–æ—Ä–º–∞)`
- [ ] `–ü–æ—Å–ª–µ–í—ã–±–æ—Ä–∞–ü–∞—Ä–∞–º–µ—Ç—Ä–æ–≤–ü—Ä–∏–∫–∞–∑–∞(–†–µ–∑—É–ª—å—Ç–∞—Ç–í—ã–±–æ—Ä–∞, –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ–ü–∞—Ä–∞–º–µ—Ç—Ä—ã)`
- [ ] `–ü–æ–¥–∫–ª—é—á–∏—Ç—å–û–±—Ä–∞–±–æ—Ç—á–∏–∫–û–∂–∏–¥–∞–Ω–∏—è(–§–æ—Ä–º–∞)` ‚Äî –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- [ ] `–û–±—Ä–∞–±–æ—Ç—á–∏–∫–û–∂–∏–¥–∞–Ω–∏—è–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ–°—Ç–∞—Ç—É—Å–∞(–§–æ—Ä–º–∞)` ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞

**üîß –ò–ó–ú–ï–ù–ò–¢–¨:**
- [ ] `–ö–æ–º–∞–Ω–¥–∞–û–±–Ω–æ–≤–∏—Ç—å–°—Ç–∞—Ç—É—Å–ï–õ–ú–ê(–§–æ—Ä–º–∞)` ‚Äî —Ç–µ–ø–µ—Ä—å –ø—Ä–æ—Å—Ç–æ —á–∏—Ç–∞–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä (–Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç GET –ï–õ–ú–ê)

**üî¥ –£–î–ê–õ–ò–¢–¨:**
- ‚ùå –õ–æ–≥–∏–∫–∞ –≤—ã–∑–æ–≤–∞ GET /API/REST/Entity/Load (–µ—Å–ª–∏ –±—ã–ª–∞)

---

#### ‚¨ú –û–ú.MRS_–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–ï–õ–ú–ê–ö–ª–∏–µ–Ω—Ç–°–µ—Ä–≤–µ—Ä
**–¢–∏–ø:** –ö–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä

**üü¢ –°–û–•–†–ê–ù–ò–¢–¨ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π):**
- [ ] `–ü—Ä–∏–°–æ–∑–¥–∞–Ω–∏–∏–ù–∞–°–µ—Ä–≤–µ—Ä–µ(–§–æ—Ä–º–∞, –û—Ç–∫–∞–∑, –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è–û–±—Ä–∞–±–æ—Ç–∫–∞)`
- [ ] `–ü–æ–ª—É—á–∏—Ç—å–¢–µ–∫—Å—Ç–°—Ç–∞—Ç—É—Å–∞–ï–õ–ú–ê(–°—Ç–∞—Ç—É—Å–ï–õ–ú–ê)` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω"
- [ ] `–ü–æ–ª—É—á–∏—Ç—å–¶–≤–µ—Ç–°—Ç–∞—Ç—É—Å–∞–ï–õ–ú–ê(–°—Ç–∞—Ç—É—Å–ï–õ–ú–ê)` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å —Ü–≤–µ—Ç –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω" (—Å–∏–Ω–∏–π)
- [ ] `–í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å–î–æ–∫—É–º–µ–Ω—Ç–ü–µ—Ä–µ–¥–û—Ç–ø—Ä–∞–≤–∫–æ–π(–î–æ–∫—É–º–µ–Ω—Ç)`
- [ ] `–ó–∞–≥—Ä—É–∑–∏—Ç—å–°—Ç–∞—Ç—É—Å–î–æ–∫—É–º–µ–Ω—Ç–∞(–§–æ—Ä–º–∞)` ‚Äî —á–∏—Ç–∞–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä MRS_–ü—Ä–æ—Ü–µ—Å—Å—ã–ï–õ–ú–ê

---

### 4.6 –†–µ–≥–ª–∞–º–µ–Ω—Ç–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ (1 —à—Ç) üîÑ

#### ‚¨ú –†–ó.MRS_–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–ï–õ–ú–ê

- **–ú–µ—Ç–æ–¥:** `MRS_–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–ï–õ–ú–ê–°–µ—Ä–≤–µ—Ä.–í—ã–ø–æ–ª–Ω–∏—Ç—å–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é–ï–õ–ú–ê()`
- **–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ:** "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ï–õ–ú–ê"
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:** –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –î–∞

**–í—ã–ø–æ–ª–Ω—è–µ–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:**
1. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—á–µ—Ä–µ–¥–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ (Insert)
2. ~~–û–ø—Ä–æ—Å —Å—Ç–∞—Ç—É—Å–æ–≤ –∏–∑ –ï–õ–ú–ê (Load)~~ ‚ùå –£–î–ê–õ–ï–ù–û (callback –≤–º–µ—Å—Ç–æ polling)
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
4. –í—ã–≥—Ä—É–∑–∫–∞ —Ü–µ–Ω –≤ Simphony

---

### 4.7 –§–æ—Ä–º—ã (2 —à—Ç)

#### ‚úÖ –§–æ—Ä–º–∞ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞–¶–µ–Ω–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã.–§–æ—Ä–º–∞–î–æ–∫—É–º–µ–Ω—Ç–∞
**–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏–∑ v2.2**

#### ‚úÖ –§–æ—Ä–º–∞ 2: MRS_–§–æ—Ä–º–∞–ü–∞—Ä–∞–º–µ—Ç—Ä–æ–≤–ü—Ä–∏–∫–∞–∑–∞–ï–õ–ú–ê
**–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏–∑ v2.2**

---

## 5. –ê–ª–≥–æ—Ä–∏—Ç–º—ã –∫–ª—é—á–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

### 5.1 –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—åJSON–î–ª—è–ï–õ–ú–ê() üîÑ

```bsl
–§—É–Ω–∫—Ü–∏—è –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—åJSON–î–ª—è–ï–õ–ú–ê(–î–æ–∫—É–º–µ–Ω—Ç–°—Å—ã–ª–∫–∞, –ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ü—Ä–∏–∫–∞–∑–∞)

1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –£—Å—Ç–∞–Ω–æ–≤–∫–∞–¶–µ–Ω–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã

2. –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å UID –¥–æ–∫—É–º–µ–Ω—Ç–∞ –¥–ª—è –ï–õ–ú–ê:
   Uid–î–æ–∫—É–º–µ–Ω—Ç–∞1–° = –°—Ç—Ä–æ–∫–∞(–£–Ω–∏–∫–∞–ª—å–Ω—ã–π–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä(–î–æ–∫—É–º–µ–Ω—Ç–°—Å—ã–ª–∫–∞));

3. –ü–æ–ª—É—á–∏—Ç—å Uid –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –ø–ª–∞–Ω –æ–±–º–µ–Ω–∞:
   Uid–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ = –ü–æ–ª—É—á–∏—Ç—åUid–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏–ò–∑–ü–ª–∞–Ω–∞–û–±–º–µ–Ω–∞(–í–∏–¥–¶–µ–Ω—ã);

4. –ü–æ–ª—É—á–∏—Ç—å Uid –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä–∞ (–°–¢–†–û–ö–ê, –Ω–µ –æ–±—ä–µ–∫—Ç!):
   InitiatorString = –ü–æ–ª—É—á–∏—Ç—åUid–¢–µ–∫—É—â–µ–≥–æ–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–ï–õ–ú–ê(); // –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É

5. –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å DecreeHeadline –∏ DecreeContent

6. –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å Word-—Ñ–∞–π–ª –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Base64:
   –î–≤–æ–∏—á–Ω—ã–µ–î–∞–Ω–Ω—ã–µ = –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—åWord–§–∞–π–ª–ü—Ä–∏–∫–∞–∑–∞(–î–æ–∫—É–º–µ–Ω—Ç–°—Å—ã–ª–∫–∞, –ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ü—Ä–∏–∫–∞–∑–∞);
   FileBase64 = Base64–°—Ç—Ä–æ–∫–∞(–î–≤–æ–∏—á–Ω—ã–µ–î–∞–Ω–Ω—ã–µ);

7. –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã:
   ProcessToken = –ü–õ_–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã–ü–æ–≤—Ç–ò—Å–ø.–í–µ—Ä–Ω—É—Ç—å–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é–ö–æ–Ω—Å—Ç–∞–Ω—Ç—É("MRS_ProcessToken–ï–õ–ú–ê");
   DecreeTypeUid = –ü–õ_–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã–ü–æ–≤—Ç–ò—Å–ø.–í–µ—Ä–Ω—É—Ç—å–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é–ö–æ–Ω—Å—Ç–∞–Ω—Ç—É("MRS_DecreeType–£–ò–î–ï–õ–ú–ê");

8. –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É JSON (–Ω–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞!):
   
   –†–µ–∑—É–ª—å—Ç–∞—Ç = –ù–æ–≤—ã–π –°—Ç—Ä—É–∫—Ç—É—Ä–∞;
   –†–µ–∑—É–ª—å—Ç–∞—Ç.–í—Å—Ç–∞–≤–∏—Ç—å("ProcessToken", ProcessToken);
   
   Context = –ù–æ–≤—ã–π –°—Ç—Ä—É–∫—Ç—É—Ä–∞;
   
   // Organization —Å ID1C –∏ Uid
   OrganizationObj = –ù–æ–≤—ã–π –°—Ç—Ä—É–∫—Ç—É—Ä–∞;
   OrganizationObj.–í—Å—Ç–∞–≤–∏—Ç—å("ID1C", Uid–î–æ–∫—É–º–µ–Ω—Ç–∞1–°); // UID –¥–æ–∫—É–º–µ–Ω—Ç–∞ 1–°
   OrganizationObj.–í—Å—Ç–∞–≤–∏—Ç—å("Uid", Uid–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏);   // Uid –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ –ï–õ–ú–ê
   Context.–í—Å—Ç–∞–≤–∏—Ç—å("Organization", OrganizationObj);
   
   // InitiatorString - –ø—Ä–æ—Å—Ç–æ —Å—Ç—Ä–æ–∫–∞!
   Context.–í—Å—Ç–∞–≤–∏—Ç—å("InitiatorString", InitiatorString);
   
   Context.–í—Å—Ç–∞–≤–∏—Ç—å("DecreeType", –ù–æ–≤—ã–π –°—Ç—Ä—É–∫—Ç—É—Ä–∞("Uid", DecreeTypeUid));
   Context.–í—Å—Ç–∞–≤–∏—Ç—å("DecreeHeadline", DecreeHeadline);
   Context.–í—Å—Ç–∞–≤–∏—Ç—å("Preamble", "–í —Ü–µ–ª—è—Ö –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–µ–π—Å–∫—É—Ä–∞–Ω—Ç–∞");
   Context.–í—Å—Ç–∞–≤–∏—Ç—å("DecreeContent", DecreeContent);
   Context.–í—Å—Ç–∞–≤–∏—Ç—å("StartDate", –§–æ—Ä–º–∞—Ç(–î–æ–∫—É–º–µ–Ω—Ç.–î–∞—Ç–∞–ù–∞—á–∞–ª–∞–î–µ–π—Å—Ç–≤–∏—è, "–î–§=yyyy-MM-ddTHH:mm:ss"));
   
   // UserString - —Ç–æ—Ç –∂–µ —á—Ç–æ InitiatorString
   Context.–í—Å—Ç–∞–≤–∏—Ç—å("UserString", InitiatorString);
   
   Context.–í—Å—Ç–∞–≤–∏—Ç—å("FileDecree", FileBase64);
   
   –†–µ–∑—É–ª—å—Ç–∞—Ç.–í—Å—Ç–∞–≤–∏—Ç—å("Context", Context);

9. –í–µ—Ä–Ω—É—Ç—å –†–µ–∑—É–ª—å—Ç–∞—Ç

–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏
```

---

### 5.2 –û–±—Ä–∞–±–æ—Ç–∞—Ç—å–û—á–µ—Ä–µ–¥—å–û—Ç–ø—Ä–∞–≤–∫–∏() üîÑ

```bsl
–§—É–Ω–∫—Ü–∏—è –û–±—Ä–∞–±–æ—Ç–∞—Ç—å–û—á–µ—Ä–µ–¥—å–û—Ç–ø—Ä–∞–≤–∫–∏()

1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –ï–õ–ú–ê:
   –†–µ–∑—É–ª—å—Ç–∞—Ç–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ = –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è–í–ï–õ–ú–ê();
   –ï–°–õ–ò –ù–ï –†–µ–∑—É–ª—å—Ç–∞—Ç–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.–£—Å–ø–µ—Ö:
     –í–æ–∑–≤—Ä–∞—Ç –ù–æ–≤–∞—è –°—Ç—Ä—É–∫—Ç—É—Ä–∞("–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ", 0, "–û—à–∏–±–æ–∫", 0);
   AuthToken = –†–µ–∑—É–ª—å—Ç–∞—Ç–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.–¢–æ–∫–µ–Ω;

2. –í—ã–±–æ—Ä–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ –æ—á–µ—Ä–µ–¥–∏:
   –í–´–ë–†–ê–¢–¨ * –ò–ó –†–°.MRS_–ü—Ä–æ—Ü–µ—Å—Å—ã–ï–õ–ú–ê
   –ì–î–ï –°—Ç–∞—Ç—É—Å = "–í–û—á–µ—Ä–µ–¥–∏" 
     –ò–õ–ò (–°—Ç–∞—Ç—É—Å = "–û—à–∏–±–∫–∞" –ò –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–ü–æ–ø—ã—Ç–æ–∫ < 3)
   –£–ü–û–†–Ø–î–û–ß–ò–¢–¨ –ü–û –î–∞—Ç–∞–ü–æ—Å–ª–µ–¥–Ω–µ–π–ü–æ–ø—ã—Ç–∫–∏
   –ü–ï–†–í–´–ï 10

3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤ –≤—ã–±–æ—Ä–∫–µ:
   
   –∞) –î–æ–∫—É–º–µ–Ω—Ç–°—Å—ã–ª–∫–∞ = –ó–∞–ø–∏—Å—å.–î–æ–∫—É–º–µ–Ω—Ç1–°
   
   –±) –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å JSON (—Å –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π!):
      JSON–î–∞–Ω–Ω—ã–µ = –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—åJSON–î–ª—è–ï–õ–ú–ê(–î–æ–∫—É–º–µ–Ω—Ç–°—Å—ã–ª–∫–∞, –ü–∞—Ä–∞–º–µ—Ç—Ä—ã–ü—Ä–∏–∫–∞–∑–∞)
      JSON–¢–µ–∫—Å—Ç = –ó–∞–ø–∏—Å–∞—Ç—åJSON(JSON–î–∞–Ω–Ω—ã–µ)
   
   –≤) URL = URL–°–µ—Ä–≤–∏—Å–∞ + "/API/REST/Process/StartWithData"
   
   –≥) –í—ã–ø–æ–ª–Ω–∏—Ç—å POST –∑–∞–ø—Ä–æ—Å
   
   –¥) –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ç–≤–µ—Ç:
      
      –ï–°–õ–ò –ö–æ–¥–û—Ç–≤–µ—Ç–∞ = 200:
        - –û—Ç–≤–µ—ÇJSON = –ü—Ä–æ—á–∏—Ç–∞—Ç—åJSON(–¢–µ–ª–æ–û—Ç–≤–µ—Ç–∞)
        - –ï–°–õ–ò –û—Ç–≤–µ—ÇJSON.–°–≤–æ–π—Å—Ç–≤–æ("result") –ò –û—Ç–≤–µ—ÇJSON.result = "True":
          * –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ —Ä–µ–≥–∏—Å—Ç—Ä–µ:
            - –°—Ç–∞—Ç—É—Å = "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω" (–ù–ï "–ù–∞–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏"!)
            - –î–∞—Ç–∞–û—Ç–ø—Ä–∞–≤–∫–∏ = –¢–µ–∫—É—â–∞—è–î–∞—Ç–∞()
            - –¢–µ–∫—Å—Ç–û—à–∏–±–∫–∏ = ""
            - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–ü–æ–ø—ã—Ç–æ–∫ = 0
            - –£–ò–î–ï–õ–ú–ê = "" (–ø–æ–∫–∞ –ø—É—Å—Ç–æ, –ø—Ä–∏–¥–µ—Ç —á–µ—Ä–µ–∑ callback!)
          * –°—á–µ—Ç—á–∏–∫–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ += 1
        –ò–ù–ê–ß–ï:
          * –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –æ—à–∏–±–∫—É (result <> "True")
      
      –ò–ù–ê–ß–ï:
        - –¢–µ–∫—Å—Ç–û—à–∏–±–∫–∏ = "–ö–æ–¥ " + –ö–æ–¥–û—Ç–≤–µ—Ç–∞ + ": " + –¢–µ–ª–æ–û—Ç–≤–µ—Ç–∞
        - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–ü–æ–ø—ã—Ç–æ–∫ += 1
        - –ï–°–õ–ò –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–ü–æ–ø—ã—Ç–æ–∫ >= 3:
          * –°—Ç–∞—Ç—É—Å = "–¢—Ä–µ–±—É–µ—Ç–í–Ω–∏–º–∞–Ω–∏—è"
        –ò–ù–ê–ß–ï:
          * –°—Ç–∞—Ç—É—Å = "–û—à–∏–±–∫–∞"
        - –°—á–µ—Ç—á–∏–∫–û—à–∏–±–æ–∫ += 1

4. –í–µ—Ä–Ω—É—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:
   –ù–æ–≤–∞—è –°—Ç—Ä—É–∫—Ç—É—Ä–∞("–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ", –°—á–µ—Ç—á–∏–∫–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ, "–û—à–∏–±–æ–∫", –°—á–µ—Ç—á–∏–∫–û—à–∏–±–æ–∫)

–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏
```

---

### 5.3 –û–±—Ä–∞–±–æ—Ç–∞—Ç—åCallback–û—Ç–ï–õ–ú–ê() üÜï

```bsl
–§—É–Ω–∫—Ü–∏—è –û–±—Ä–∞–±–æ—Ç–∞—Ç—åCallback–û—Ç–ï–õ–ú–ê(–¢–µ–ª–æ–ó–∞–ø—Ä–æ—Å–∞JSON)

1. –ü–∞—Ä—Å–∏–Ω–≥ JSON:
   RequestErp = –ü—Ä–æ—á–∏—Ç–∞—Ç—åJSON(–¢–µ–ª–æ–ó–∞–ø—Ä–æ—Å–∞JSON);

2. –í–∞–ª–∏–¥–∞—Ü–∏—è:
   –ï–°–õ–ò –ù–ï RequestErp.–°–≤–æ–π—Å—Ç–≤–æ("Uid_ERP") –ò–õ–ò –ü—É—Å—Ç–∞—è–°—Ç—Ä–æ–∫–∞(RequestErp.Uid_ERP):
     –í–µ—Ä–Ω—É—Ç—å –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å–û—Ç–≤–µ—Ç–û—à–∏–±–∫–∏("Error", "Uid_ERP –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω", "");
   
   –ï–°–õ–ò –ù–ï RequestErp.–°–≤–æ–π—Å—Ç–≤–æ("Status") –ò–õ–ò –ü—É—Å—Ç–∞—è–°—Ç—Ä–æ–∫–∞(RequestErp.Status):
     –í–µ—Ä–Ω—É—Ç—å –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å–û—Ç–≤–µ—Ç–û—à–∏–±–∫–∏("Error", "Status –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω", RequestErp.Uid_ERP);

3. –ù–∞–π—Ç–∏ –∑–∞–ø–∏—Å—å –≤ —Ä–µ–≥–∏—Å—Ç—Ä–µ:
   –ó–∞–ø—Ä–æ—Å = –ù–æ–≤—ã–π –ó–∞–ø—Ä–æ—Å;
   –ó–∞–ø—Ä–æ—Å.–¢–µ–∫—Å—Ç = "–í–´–ë–†–ê–¢–¨ * –ò–ó –†–µ–≥–∏—Å—Ç—Ä–°–≤–µ–¥–µ–Ω–∏–π.MRS_–ü—Ä–æ—Ü–µ—Å—Å—ã–ï–õ–ú–ê
                   |–ì–î–ï Uid–î–æ–∫—É–º–µ–Ω—Ç–∞1–° = &Uid–î–æ–∫—É–º–µ–Ω—Ç–∞1–°";
   –ó–∞–ø—Ä–æ—Å.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å–ü–∞—Ä–∞–º–µ—Ç—Ä("Uid–î–æ–∫—É–º–µ–Ω—Ç–∞1–°", RequestErp.Uid_ERP);
   –í—ã–±–æ—Ä–∫–∞ = –ó–∞–ø—Ä–æ—Å.–í—ã–ø–æ–ª–Ω–∏—Ç—å().–í—ã–±—Ä–∞—Ç—å();
   
   –ï–°–õ–ò –ù–ï –í—ã–±–æ—Ä–∫–∞.–°–ª–µ–¥—É—é—â–∏–π():
     –í–µ—Ä–Ω—É—Ç—å –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å–û—Ç–≤–µ—Ç–û—à–∏–±–∫–∏("Error", "–î–æ–∫—É–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω", RequestErp.Uid_ERP);

4. –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ —Ä–µ–≥–∏—Å—Ç—Ä–µ:
   –ú–µ–Ω–µ–¥–∂–µ—Ä–ó–∞–ø–∏—Å–∏ = –†–µ–≥–∏—Å—Ç—Ä—ã–°–≤–µ–¥–µ–Ω–∏–π.MRS_–ü—Ä–æ—Ü–µ—Å—Å—ã–ï–õ–ú–ê.–°–æ–∑–¥–∞—Ç—å–ú–µ–Ω–µ–¥–∂–µ—Ä–ó–∞–ø–∏—Å–∏();
   –ú–µ–Ω–µ–¥–∂–µ—Ä–ó–∞–ø–∏—Å–∏.Uid–î–æ–∫—É–º–µ–Ω—Ç–∞1–° = RequestErp.Uid_ERP;
   –ú–µ–Ω–µ–¥–∂–µ—Ä–ó–∞–ø–∏—Å–∏.–ü—Ä–æ—á–∏—Ç–∞—Ç—å();
   
   –ï–°–õ–ò –ú–µ–Ω–µ–¥–∂–µ—Ä–ó–∞–ø–∏—Å–∏.–í—ã–±—Ä–∞–Ω():
     
     // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –£–ò–î–ï–õ–ú–ê –ø—Ä–∏—à–µ–ª –≤–ø–µ—Ä–≤—ã–µ
     –ï–°–õ–ò –ü—É—Å—Ç–∞—è–°—Ç—Ä–æ–∫–∞(–ú–µ–Ω–µ–¥–∂–µ—Ä–ó–∞–ø–∏—Å–∏.–£–ò–î–ï–õ–ú–ê) –ò RequestErp.–°–≤–æ–π—Å—Ç–≤–æ("Uid_Elma"):
       –ú–µ–Ω–µ–¥–∂–µ—Ä–ó–∞–ø–∏—Å–∏.–£–ò–î–ï–õ–ú–ê = RequestErp.Uid_Elma;
     –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
     
     // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å (–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –≤ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ)
     –ú–µ–Ω–µ–¥–∂–µ—Ä–ó–∞–ø–∏—Å–∏.–°—Ç–∞—Ç—É—Å = –ü–æ–ª—É—á–∏—Ç—å–°—Ç–∞—Ç—É—Å–ü–æ–ò–º–µ–Ω–∏(RequestErp.Status);
     
     // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å
     –ï–°–õ–ò RequestErp.–°–≤–æ–π—Å—Ç–≤–æ("URLProcess"):
       –ú–µ–Ω–µ–¥–∂–µ—Ä–ó–∞–ø–∏—Å–∏.URLProcess = RequestErp.URLProcess;
     –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
     
     –ú–µ–Ω–µ–¥–∂–µ—Ä–ó–∞–ø–∏—Å–∏.–î–∞—Ç–∞–ü–æ—Å–ª–µ–¥–Ω–µ–≥–æ–û–±–Ω–æ–≤–ª–µ–Ω–∏—è = –¢–µ–∫—É—â–∞—è–î–∞—Ç–∞();
     
     –ú–µ–Ω–µ–¥–∂–µ—Ä–ó–∞–ø–∏—Å–∏.–ó–∞–ø–∏—Å–∞—Ç—å();
     
     // Email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
     –û—Ç–ø—Ä–∞–≤–∏—Ç—åEmail–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–û–°–º–µ–Ω–µ–°—Ç–∞—Ç—É—Å–∞(–í—ã–±–æ—Ä–∫–∞.–î–æ–∫—É–º–µ–Ω—Ç1–°, RequestErp.Status);
   
   –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

5. –í–µ—Ä–Ω—É—Ç—å —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:
   –û—Ç–≤–µ—Ç = –ù–æ–≤—ã–π –°—Ç—Ä—É–∫—Ç—É—Ä–∞;
   –û—Ç–≤–µ—Ç.–í—Å—Ç–∞–≤–∏—Ç—å("Status", "OK");
   –û—Ç–≤–µ—Ç.–í—Å—Ç–∞–≤–∏—Ç—å("Error", "");
   –û—Ç–≤–µ—Ç.–í—Å—Ç–∞–≤–∏—Ç—å("Uid_ERP", RequestErp.Uid_ERP);
   
   –í–µ—Ä–Ω—É—Ç—å –ó–∞–ø–∏—Å–∞—Ç—åJSON(–û—Ç–≤–µ—Ç);

–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏

–§—É–Ω–∫—Ü–∏—è –ü–æ–ª—É—á–∏—Ç—å–°—Ç–∞—Ç—É—Å–ü–æ–ò–º–µ–Ω–∏(–°—Ç–∞—Ç—É—Å–°—Ç—Ä–æ–∫–∞)
  // –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –≤ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ
  –ï–°–õ–ò –°—Ç–∞—Ç—É—Å–°—Ç—Ä–æ–∫–∞ = "–ù–∞–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏":
    –í–æ–∑–≤—Ä–∞—Ç –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è.MRS_–°—Ç–∞—Ç—É—Å—ã–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏–ï–õ–ú–ê.–ù–∞–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏;
  –ò–Ω–∞—á–µ–ï–°–õ–ò –°—Ç–∞—Ç—É—Å–°—Ç—Ä–æ–∫–∞ = "–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω":
    –í–æ–∑–≤—Ä–∞—Ç –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è.MRS_–°—Ç–∞—Ç—É—Å—ã–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏–ï–õ–ú–ê.–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω;
  –ò–Ω–∞—á–µ–ï–°–õ–ò –°—Ç–∞—Ç—É—Å–°—Ç—Ä–æ–∫–∞ = "–ü–æ–¥–ø–∏—Å–∞–Ω":
    –í–æ–∑–≤—Ä–∞—Ç –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è.MRS_–°—Ç–∞—Ç—É—Å—ã–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏–ï–õ–ú–ê.–ü–æ–¥–ø–∏—Å–∞–Ω;
  –ò–Ω–∞—á–µ–ï–°–õ–ò –°—Ç–∞—Ç—É—Å–°—Ç—Ä–æ–∫–∞ = "–û—Ç–∫–ª–æ–Ω–µ–Ω":
    –í–æ–∑–≤—Ä–∞—Ç –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è.MRS_–°—Ç–∞—Ç—É—Å—ã–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏–ï–õ–ú–ê.–û—Ç–∫–ª–æ–Ω–µ–Ω;
  –ò–Ω–∞—á–µ–ï–°–õ–ò –°—Ç–∞—Ç—É—Å–°—Ç—Ä–æ–∫–∞ = "–û—Ç–º–µ–Ω–µ–Ω":
    –í–æ–∑–≤—Ä–∞—Ç –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è.MRS_–°—Ç–∞—Ç—É—Å—ã–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏–ï–õ–ú–ê.–û—Ç–º–µ–Ω–µ–Ω;
  –ò–ù–ê–ß–ï:
    –ó–∞–ø–∏—Å–∞—Ç—å–õ–æ–≥("–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å –æ—Ç –ï–õ–ú–ê: " + –°—Ç–∞—Ç—É—Å–°—Ç—Ä–æ–∫–∞);
    –í–æ–∑–≤—Ä–∞—Ç –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è.MRS_–°—Ç–∞—Ç—É—Å—ã–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏–ï–õ–ú–ê.–¢—Ä–µ–±—É–µ—Ç–í–Ω–∏–º–∞–Ω–∏—è;
  –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏
```

---

## 6. –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ üîÑ

### ‚¨ú –¢–°-1: –°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–æ–≤–æ–≥–æ –ø—Ä–∏–∫–∞–∑–∞ (Happy Path —Å callback)

**–®–∞–≥–∏:**
1. –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–µ–Ω –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã"
2. –ü—Ä–æ–≤–µ—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ñ–æ—Ä–º–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É ‚Üí –û–ö
4. –î–æ–∂–¥–∞—Ç—å—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –†–ó (–¥–æ 5 –º–∏–Ω)
5. **–í—Ä—É—á–Ω—É—é –≤—ã–∑–≤–∞—Ç—å callback –æ—Ç –ï–õ–ú–ê** (–¥–ª—è —Ç–µ—Å—Ç–∞):
   ```json
   POST http://1c-server/hs/elma/callback
   {
     "Uid_ERP": "{Uid–î–æ–∫—É–º–µ–Ω—Ç–∞1–°}",
     "Uid_Elma": "262d1c28-1711-4e9d-b65c-65d8ed8c0d68",
     "Status": "–ù–∞–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏",
     "URLProcess": "http://elma/process/12345"
   }
   ```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –°—Ç–∞—Ç—É—Å –≤ –æ—á–µ—Ä–µ–¥–∏: "–í–û—á–µ—Ä–µ–¥–∏"
- ‚úÖ –ü–æ—Å–ª–µ –†–ó: "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω" (result: True)
- ‚úÖ –ü–æ—Å–ª–µ callback: "–ù–∞–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏", –£–ò–î–ï–õ–ú–ê –∑–∞–ø–æ–ª–Ω–µ–Ω, URLProcess –∑–∞–ø–æ–ª–Ω–µ–Ω
- ‚úÖ –û—Ç–≤–µ—Ç 1–°: `{"Status": "OK", "Error": "", "Uid_ERP": "..."}`

---

### ‚¨ú –¢–°-2: –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–¥–ø–∏—Å–∞–Ω–∏–µ —á–µ—Ä–µ–∑ callback

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏–µ:** –î–æ–∫—É–º–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω (–¢–°-1)

**–®–∞–≥–∏:**
1. –í –ï–õ–ú–ê —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç–µ–ª–∏ –æ–¥–æ–±—Ä—è—é—Ç –ø—Ä–∏–∫–∞–∑
2. **–ï–õ–ú–ê –≤—ã–∑—ã–≤–∞–µ—Ç callback:**
   ```json
   {"Uid_ERP": "...", "Uid_Elma": "...", "Status": "–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω", "URLProcess": "..."}
   ```
3. –í –ï–õ–ú–ê —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–∏–∫–∞–∑
4. **–ï–õ–ú–ê –≤—ã–∑—ã–≤–∞–µ—Ç callback:**
   ```json
   {"Uid_ERP": "...", "Uid_Elma": "...", "Status": "–ü–æ–¥–ø–∏—Å–∞–Ω", "URLProcess": "..."}
   ```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–æ—Å–ª–µ 1-–≥–æ callback: —Å—Ç–∞—Ç—É—Å –≤ 1–° = "–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω"
- ‚úÖ –ü–æ—Å–ª–µ 2-–≥–æ callback: —Å—Ç–∞—Ç—É—Å –≤ 1–° = "–ü–æ–¥–ø–∏—Å–∞–Ω"
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã–º (–¥–∞—Ç–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤ –±—É–¥—É—â–µ–º)

---

### ‚¨ú –¢–°-3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ—á–Ω–æ–≥–æ callback

**–®–∞–≥–∏:**
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å callback —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º Uid_ERP:
   ```json
   POST http://1c-server/hs/elma/callback
   {"Uid_Elma": "...", "Status": "–ü–æ–¥–ø–∏—Å–∞–Ω"}
   ```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –û—Ç–≤–µ—Ç 1–°:
  ```json
  {
    "Status": "Error",
    "Error": "Uid_ERP –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω",
    "Uid_ERP": ""
  }
  ```

---

## 7. –ß–µ–∫-–ª–∏—Å—Ç –≤–Ω–µ–¥—Ä–µ–Ω–∏—è (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π)

### üü° –§–∞–∑–∞ 1: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (1 –¥–µ–Ω—å)

- [ ] **–û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ MRS_–°—Ç–∞—Ç—É—Å—ã–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏–ï–õ–ú–ê:**
  - –î–æ–±–∞–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω"
  
- [ ] **–û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä MRS_–ü—Ä–æ—Ü–µ—Å—Å—ã–ï–õ–ú–ê:**
  - –ò–∑–º–µ–Ω–∏—Ç—å –∏–∑–º–µ—Ä–µ–Ω–∏–µ: Uid–î–æ–∫—É–º–µ–Ω—Ç–∞1–° (–°—Ç—Ä–æ–∫–∞ 36)
  - –î–æ–±–∞–≤–∏—Ç—å —Ä–µ—Å—É—Ä—Å: URLProcess (–°—Ç—Ä–æ–∫–∞ 250)
  - –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å: –î–∞—Ç–∞–ü–æ—Å–ª–µ–¥–Ω–µ–≥–æ–û–ø—Ä–æ—Å–∞ ‚Üí –î–∞—Ç–∞–ü–æ—Å–ª–µ–¥–Ω–µ–≥–æ–û–±–Ω–æ–≤–ª–µ–Ω–∏—è
  - –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å –ø–æ Uid–î–æ–∫—É–º–µ–Ω—Ç–∞1–°
  
- [ ] **–°–æ–∑–¥–∞—Ç—å HTTP —Å–µ—Ä–≤–∏—Å MRS_HTTP–°–µ—Ä–≤–∏—Å–ï–õ–ú–ê:**
  - URL: /MRS_HRS/hs/elma
  - –ú–µ—Ç–æ–¥: POST /callback
  - –ú–æ–¥—É–ª—å: MRS_HTTP–°–µ—Ä–≤–∏—Å–ï–õ–ú–ê–ú–æ–¥—É–ª—å

- [ ] **–û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã:**
  - MRS_ProcessToken–ï–õ–ú–ê = `489d2dbf-0017-458e-8edb-f5d5aa70b00f` (–Ω–æ–≤—ã–π!)

---

### üü° –§–∞–∑–∞ 2: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –æ–±—â–∏—Ö –º–æ–¥—É–ª–µ–π (2 –¥–Ω—è)

**–û–ú.MRS_–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–ï–õ–ú–ê–°–µ—Ä–≤–µ—Ä:**
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—åJSON–î–ª—è–ï–õ–ú–ê() ‚Äî –Ω–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å –û–±—Ä–∞–±–æ—Ç–∞—Ç—å–û—á–µ—Ä–µ–¥—å–û—Ç–ø—Ä–∞–≤–∫–∏() ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ result: True
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å –û—Ç–º–µ–Ω–∏—Ç—å–ü—Ä–∏–∫–∞–∑–í–ï–õ–ú–ê() ‚Üí –û—Ç–º–µ–Ω–∏—Ç—å–ü—Ä–∏–∫–∞–∑–õ–æ–∫–∞–ª—å–Ω–æ() ‚Äî —É–±—Ä–∞—Ç—å API –≤—ã–∑–æ–≤—ã
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—åUid–î–æ–∫—É–º–µ–Ω—Ç–∞1–°()
- [ ] –î–æ–±–∞–≤–∏—Ç—å –û–±—Ä–∞–±–æ—Ç–∞—Ç—åCallback–û—Ç–ï–õ–ú–ê()
- [ ] –î–æ–±–∞–≤–∏—Ç—å –û–±–Ω–æ–≤–∏—Ç—å–°—Ç–∞—Ç—É—Å–ò–∑Callback()
- [ ] –î–æ–±–∞–≤–∏—Ç—å –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—åRequestErp()
- [ ] **–£–¥–∞–ª–∏—Ç—å –û–ø—Ä–æ—Å–∏—Ç—å–°—Ç–∞—Ç—É—Å—ã–î–æ–∫—É–º–µ–Ω—Ç–æ–≤()** ‚ùå
- [ ] **–£–¥–∞–ª–∏—Ç—å –ü–æ–ª—É—á–∏—Ç—å–°—Ç–∞—Ç—É—Å–ò–∑–ï–õ–ú–ê()** ‚ùå
- [ ] **–£–¥–∞–ª–∏—Ç—å –ü–æ–ª—É—á–∏—Ç—å–ú–∞—Å—Å–∏–≤Uid–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π–ï–õ–ú–ê()** ‚ùå

**–û–ú.MRS_–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–ï–õ–ú–ê–ö–ª–∏–µ–Ω—Ç:**
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å –ö–æ–º–∞–Ω–¥–∞–û–±–Ω–æ–≤–∏—Ç—å–°—Ç–∞—Ç—É—Å–ï–õ–ú–ê() ‚Äî —á–∏—Ç–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä

**–û–ú.MRS_–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–ï–õ–ú–ê–ö–ª–∏–µ–Ω—Ç–°–µ—Ä–≤–µ—Ä:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ü–≤–µ—Ç/—Ç–µ–∫—Å—Ç –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω"

**HTTP —Å–µ—Ä–≤–∏—Å –º–æ–¥—É–ª—å:**
- [ ] –°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ POST /callback
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –û–±—Ä–∞–±–æ—Ç–∞—Ç—åCallback–û—Ç–ï–õ–ú–ê()

---

### üü° –§–∞–∑–∞ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –†–ó (0.5 –¥–Ω—è)

- [ ] –ò–∑–º–µ–Ω–∏—Ç—å MRS_–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–ï–õ–ú–ê–°–µ—Ä–≤–µ—Ä.–í—ã–ø–æ–ª–Ω–∏—Ç—å–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é–ï–õ–ú–ê():
  - –£–±—Ä–∞—Ç—å –≤—ã–∑–æ–≤ –û–ø—Ä–æ—Å–∏—Ç—å–°—Ç–∞—Ç—É—Å—ã–î–æ–∫—É–º–µ–Ω—Ç–æ–≤() ‚ùå
  - –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ:
    1. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å–û—á–µ—Ä–µ–¥—å–û—Ç–ø—Ä–∞–≤–∫–∏()
    2. –ü—Ä–æ–≤–µ—Å—Ç–∏–î–æ–∫—É–º–µ–Ω—Ç—ã–ü–æ–î–∞—Ç–µ–ü—Ä–∏–º–µ–Ω–µ–Ω–∏—è()
    3. –í—ã–≥—Ä—É–∑–∏—Ç—å–¶–µ–Ω—ã–íSimphony()

---

### ‚¨ú –§–∞–∑–∞ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (2 –¥–Ω—è)

- [ ] –¢–°-1: Happy Path —Å callback
- [ ] –¢–°-2: –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ callback
- [ ] –¢–°-3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ—á–Ω–æ–≥–æ callback
- [ ] –¢–°-4: –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ –¥–∞—Ç–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
- [ ] –¢–°-5: Retry logic –ø—Ä–∏ –æ—à–∏–±–∫–µ –æ—Ç–ø—Ä–∞–≤–∫–∏
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å preprod –ï–õ–ú–ê

---

## 8. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚ö†Ô∏è

### 8.1 –£–¥–∞–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ –ï–õ–ú–ê

**–ü—Ä–æ–±–ª–µ–º–∞:** API –ï–õ–ú–ê –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Ç–º–µ–Ω—É –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ.

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤ 1–°:**

1. **–í 1–°:**
   - –ü–æ–º–µ—Ç–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ –∫–∞–∫ –æ–±—ã—á–Ω–æ
   - –°—Ç–∞—Ç—É—Å –≤ —Ä–µ–≥–∏—Å—Ç—Ä–µ MRS_–ü—Ä–æ—Ü–µ—Å—Å—ã–ï–õ–ú–ê –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω–∏—Ç—Å—è –Ω–∞ "–û—Ç–º–µ–Ω–µ–Ω"
   - –ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç –±—ã–ª –ø—Ä–æ–≤–µ–¥–µ–Ω ‚Äî –æ–Ω –±—É–¥–µ—Ç —Å–Ω—è—Ç —Å –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è

2. **–í –ï–õ–ú–ê (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!):**
   - –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –ø–æ —Å—Å—ã–ª–∫–µ URLProcess (–¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ —Ñ–æ—Ä–º–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞)
   - –í—Ä—É—á–Ω—É—é –æ—Ç–º–µ–Ω–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –ï–õ–ú–ê
   - –£–∫–∞–∑–∞—Ç—å –ø—Ä–∏—á–∏–Ω—É –æ—Ç–º–µ–Ω—ã: "–î–æ–∫—É–º–µ–Ω—Ç —É–¥–∞–ª–µ–Ω –≤ 1–°"

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ë–µ–∑ —Ä—É—á–Ω–æ–π –æ—Ç–º–µ–Ω—ã –≤ –ï–õ–ú–ê –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç—É, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—É—Ç–∞–Ω–∏—Ü–µ —É —Å–æ–≥–ª–∞—Å—É—é—â–∏—Ö –ª–∏—Ü.

---

## 9. –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ)

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-------------|---------|-----------|
| **–ï–õ–ú–ê –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç callback** | –°—Ä–µ–¥–Ω—è—è | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä—É—á–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ callback |
| **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ callback** | –ù–∏–∑–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ (–ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤ —Å —Ç–µ–º –∂–µ Status –Ω–µ –º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ) |
| **–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –≤ callback** | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω–µ–µ | –°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è RequestErp, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ |
| **–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ Uid_ERP** | –ù–∏–∑–∫–∞—è | –í—ã—Å–æ–∫–æ–µ | –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–µ –≤ –æ—á–µ—Ä–µ–¥—å, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ –≤ —Ä–µ–≥–∏—Å—Ç—Ä–µ |
| **–ü—Ä–æ–±–ª–µ–º—ã —Å —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º Word-—Ñ–∞–π–ª–æ–≤** | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω–µ–µ | –£–ø—Ä–æ—Å—Ç–∏—Ç—å —à–∞–±–ª–æ–Ω, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã 1–° |
| **–û—Ç–º–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤ 1–° –±–µ–∑ –æ—Ç–º–µ–Ω—ã –≤ –ï–õ–ú–ê** | –í—ã—Å–æ–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤ 1–° –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –æ—Ç–º–µ–Ω–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –≤ –ï–õ–ú–ê (API –æ—Ç–º–µ–Ω—ã –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç) |

---

## 9. –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –í–µ—Ä—Å–∏—è | –î–∞—Ç–∞ | –ê–≤—Ç–æ—Ä | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|--------|------|-------|-----------|
| 3.0 | 25.11.2025 | PM | **üîÑ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥:** –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ callback-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É. –ï–õ–ú–ê –≤—ã–∑—ã–≤–∞–µ—Ç HTTP —Å–µ—Ä–≤–∏—Å 1–° –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤. –£–¥–∞–ª–µ–Ω polling. –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON (ID1C, InitiatorString). –ù–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω". –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ URLProcess. **‚ö†Ô∏è –£–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ—Ç–º–µ–Ω—ã:** API –ï–õ–ú–ê –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Ç–º–µ–Ω—É –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ ‚Äî —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤ 1–°. |
| 2.2 | 18.11.2025 | PM | –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã –æ—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã, –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–æ—Ä–º–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ |
| 2.1 | 18.11.2025 | PM | UID –≤ –†–°.–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã |
| 2.0 | 18.11.2025 | PM | –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è PRD + Implementation Plan |
| 1.0 | 14.11.2025 | PM | –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è PRD |

---

**¬© 2025 | PRD v3.0 | –°—Ç–∞—Ç—É—Å: üìã Ready for Refactoring (Callback Architecture)**
