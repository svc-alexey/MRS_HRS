
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	// Создание схемы компоновки данных для выбора полей
	СоздатьСхемуКомпоновки();
	
	// Заполнение списка выбора для операторов
	ЗаполнитьСписокОператоров();
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Процедура СоздатьСхемуКомпоновки()
	
	СхемаКД = Новый СхемаКомпоновкиДанных;
	
	// Набор данных
	НаборДанных = СхемаКД.НаборыДанных.Добавить(Тип("НаборДанныхОбъектСхемыКомпоновкиДанных"));
	НаборДанных.Имя = "НаборДанных1";
	
	// Добавляем поля
	
	// СтавкаНДС
	Поле = НаборДанных.Поля.Добавить(Тип("ПолеНаборДанныхСхемыКомпоновкиДанных"));
	Поле.Поле = "СтавкаНДС";
	Поле.ТипЗначения = Новый ОписаниеТипов("Число", Новый КвалификаторыЧисла(15, 2));
	Поле.Заголовок = "Ставка НДС";
	
	// МернаяЕдиницаИзмерения
	Поле = НаборДанных.Поля.Добавить(Тип("ПолеНаборДанныхСхемыКомпоновкиДанных"));
	Поле.Поле = "МернаяЕдиницаИзмерения";
	Поле.ТипЗначения = Новый ОписаниеТипов("Булево");
	Поле.Заголовок = "Мерная единица измерения";
	
	// СвободнаяЦена
	Поле = НаборДанных.Поля.Добавить(Тип("ПолеНаборДанныхСхемыКомпоновкиДанных"));
	Поле.Поле = "СвободнаяЦена";
	Поле.ТипЗначения = Новый ОписаниеТипов("Булево");
	Поле.Заголовок = "Свободная цена";
	
	// ЕдиницаИзмерения
	Поле = НаборДанных.Поля.Добавить(Тип("ПолеНаборДанныхСхемыКомпоновкиДанных"));
	Поле.Поле = "ЕдиницаИзмерения";
	Поле.ТипЗначения = Новый ОписаниеТипов("СправочникСсылка.УпаковкиЕдиницыИзмерения");
	Поле.Заголовок = "Единица измерения";
	
	// Номенклатура
	Поле = НаборДанных.Поля.Добавить(Тип("ПолеНаборДанныхСхемыКомпоновкиДанных"));
	Поле.Поле = "Номенклатура";
	Поле.ТипЗначения = Новый ОписаниеТипов("СправочникСсылка.Номенклатура");
	Поле.Заголовок = "Номенклатура";
	
	// Сохраняем схему в реквизите формы
	АдресСхемыКД = ПоместитьВоВременноеХранилище(СхемаКД, УникальныйИдентификатор);
	
КонецПроцедуры

&НаСервере
Процедура ЗаполнитьСписокОператоров()
	
	СписокОператоров = Элементы.УсловияОператор.СписокВыбора;
	СписокОператоров.Очистить();
	
	СписокОператоров.Добавить("Равно");
	СписокОператоров.Добавить("НеРавно");
	СписокОператоров.Добавить("Больше");
	СписокОператоров.Добавить("БольшеИлиРавно");
	СписокОператоров.Добавить("Меньше");
	СписокОператоров.Добавить("МеньшеИлиРавно");
	СписокОператоров.Добавить("Содержит");
	СписокОператоров.Добавить("НеСодержит");
	СписокОператоров.Добавить("Заполнено");
	СписокОператоров.Добавить("НеЗаполнено");
	
КонецПроцедуры

#КонецОбласти
